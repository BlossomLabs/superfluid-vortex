{"version":3,"file":"SearchInput.js","sources":["../src/components/Input/SearchInput.js"],"sourcesContent":["import React, { useRef, useCallback } from 'react'\nimport ButtonIcon from '../Button/ButtonIcon'\nimport TextInput from './TextInput'\nimport { IconSearch, IconCross } from '../../icons'\nimport { useTheme } from '../../theme'\n\nconst EMPTY = ''\n\nconst SearchInput = React.forwardRef(({ onChange, ...props }, ref) => {\n  const theme = useTheme()\n  const fallbackRef = useRef()\n  const _ref = ref || fallbackRef\n\n  const handleChange = useCallback(\n    ev => {\n      const { value } = ev.currentTarget\n      onChange(value, { inputChangeEvent: ev })\n    },\n    [onChange]\n  )\n\n  const handleClearClick = useCallback(\n    ev => {\n      onChange(EMPTY, { clearClickEvent: ev })\n      if (_ref.current) {\n        _ref.current.focus()\n      }\n    },\n    [onChange, _ref]\n  )\n\n  return (\n    <TextInput\n      ref={_ref}\n      adornment={\n        (props.value || '') === EMPTY ? (\n          <IconSearch\n            css={`\n              color: ${theme.surfaceIcon};\n            `}\n          />\n        ) : (\n          <ButtonIcon\n            onClick={handleClearClick}\n            label=\"Clear search input\"\n            css={`\n              color: ${theme.surfaceIcon};\n            `}\n          >\n            <IconCross />\n          </ButtonIcon>\n        )\n      }\n      adornmentPosition=\"end\"\n      onChange={handleChange}\n      {...props}\n    />\n  )\n})\n\nSearchInput.propTypes = {\n  ...TextInput.propTypes,\n}\n\nexport default SearchInput\n"],"names":["EMPTY","SearchInput","React","forwardRef","ref","onChange","props","theme","useTheme","fallbackRef","useRef","_ref","handleChange","useCallback","ev","value","currentTarget","inputChangeEvent","handleClearClick","clearClickEvent","current","focus","TextInput","_extends","surfaceIcon","IconCross","propTypes"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,MAAMA,KAAK,GAAG,EAAd,CAAA;AAEMC,MAAAA,WAAW,gBAAGC,yBAAK,CAACC,UAAN,CAAiB,CAAA,KAAA,EAAyBC,GAAzB,KAAiC;AAAA,EAAhC,IAAA;AAAEC,IAAAA,QAAF;AAAY,IAAGC,GAAAA,KAAAA;AAAf,GAAgC,GAAA,KAAA,CAAA;AACpE,EAAMC,MAAAA,KAAK,GAAGC,cAAQ,EAAtB,CAAA;AACA,EAAMC,MAAAA,WAAW,GAAGC,YAAM,EAA1B,CAAA;;AACA,EAAA,MAAMC,IAAI,GAAGP,GAAG,IAAIK,WAApB,CAAA;;AAEA,EAAA,MAAMG,YAAY,GAAGC,iBAAW,CAC9BC,EAAE,IAAI;AACJ,IAAM,MAAA;AAAEC,MAAAA,KAAAA;AAAF,KAAYD,GAAAA,EAAE,CAACE,aAArB,CAAA;AACAX,IAAAA,QAAQ,CAACU,KAAD,EAAQ;AAAEE,MAAAA,gBAAgB,EAAEH,EAAAA;AAApB,KAAR,CAAR,CAAA;AACD,GAJ6B,EAK9B,CAACT,QAAD,CAL8B,CAAhC,CAAA;AAQA,EAAA,MAAMa,gBAAgB,GAAGL,iBAAW,CAClCC,EAAE,IAAI;AACJT,IAAAA,QAAQ,CAACL,KAAD,EAAQ;AAAEmB,MAAAA,eAAe,EAAEL,EAAAA;AAAnB,KAAR,CAAR,CAAA;;AACA,IAAIH,IAAAA,IAAI,CAACS,OAAT,EAAkB;AAChBT,MAAAA,IAAI,CAACS,OAAL,CAAaC,KAAb,EAAA,CAAA;AACD,KAAA;AACF,GANiC,EAOlC,CAAChB,QAAD,EAAWM,IAAX,CAPkC,CAApC,CAAA;AAUA,EAAA,oBACET,wCAACoB,oBAAD,EAAAC,iBAAA,CAAA;AACE,IAAA,GAAG,EAAEZ,IADP;AAEE,IAAA,SAAS,EACP,CAACL,KAAK,CAACS,KAAN,IAAe,EAAhB,MAAwBf,KAAxB,gBACEE,yBAAA,CAAA,aAAA,CAAA,iBAAA,EAAA;AAAA,MAAA,KAAA,EAEaK,KAAK,CAACiB,WAAAA;AAFnB,KAAA,CADF,gBAOEtB,yBAAA,CAAA,aAAA,CAAA,iBAAA,EAAA;AACE,MAAA,OAAO,EAAEgB,gBADX;AAEE,MAAA,KAAK,EAAC,oBAFR;AAAA,MAAA,MAAA,EAIaX,KAAK,CAACiB,WAAAA;AAJnB,KAOE,eAAAtB,yBAAA,CAAA,aAAA,CAACuB,oBAAD,EAAA,IAAA,CAPF,CAVN;AAqBE,IAAA,iBAAiB,EAAC,KArBpB;AAsBE,IAAA,QAAQ,EAAEb,YAAAA;AAtBZ,GAAA,EAuBMN,KAvBN,CADF,CAAA,CAAA;AA2BD,CAlDmB,EAApB;AAoDAL,WAAW,CAACyB,SAAZ,GAAwB,EACtB,GAAGJ,oBAAS,CAACI,SAAAA;AADS,CAAxB,CAAA;;;;;;;;;;;;;;"}