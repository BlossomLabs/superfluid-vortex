{"version":3,"file":"Switch.js","sources":["../src/components/Switch/Switch.js"],"sourcesContent":["import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { Spring, animated } from '@react-spring/web'\n\nimport { useTheme } from '../../theme'\nimport { noop } from '../../utils'\nimport { springs, GU } from '../../style'\nimport FocusVisible from '../FocusVisible/FocusVisible'\n\nconst BORDER = 1\nconst WRAPPER_WIDTH = 5 * GU\nconst WRAPPER_HEIGHT = 2.25 * GU\n\nfunction Switch({ checked, disabled, onChange }) {\n  const theme = useTheme()\n  const [isFocused, setIsFocused] = useState(false)\n\n  const handleChange = disabled ? noop : () => onChange(!checked)\n\n  return (\n    <FocusVisible>\n      {({ focusVisible, onFocus }) => (\n        <span\n          onClick={e => {\n            e.preventDefault()\n            handleChange()\n          }}\n          css={`\n            position: relative;\n            display: inline-block;\n            width: ${WRAPPER_WIDTH}px;\n            height: ${WRAPPER_HEIGHT}px;\n            border: ${BORDER}px solid ${theme.border};\n            border-radius: ${WRAPPER_HEIGHT}px;\n            background-color: ${disabled\n              ? theme.controlBorder\n              : checked\n              ? theme.selected\n              : theme.control};\n            cursor: ${disabled ? 'default' : 'pointer'};\n\n            ${disabled\n              ? ''\n              : `\n                  &:active {\n                    border-color: ${theme.controlBorderPressed};\n                  }\n                `}\n\n            ${isFocused && focusVisible\n              ? `\n                  &:after {\n                    content: '';\n                    position: absolute;\n                    left: ${-BORDER * 2}px;\n                    top: ${-BORDER * 2}px;\n                    width: ${WRAPPER_WIDTH + BORDER * 2}px;\n                    height: ${WRAPPER_HEIGHT + BORDER * 2}px;\n                    border-radius: ${WRAPPER_HEIGHT}px;\n                    border: 2px solid ${theme.focus};\n                  }\n                `\n              : ''};\n          `}\n        >\n          <input\n            type=\"checkbox\"\n            onFocus={() => {\n              setIsFocused(true)\n              onFocus()\n            }}\n            onBlur={() => setIsFocused(false)}\n            checked={checked}\n            disabled={disabled}\n            onChange={handleChange}\n            css={`\n              opacity: 0;\n              pointer-events: none;\n            `}\n          />\n          <Spring\n            to={{\n              progress: checked\n                ? WRAPPER_WIDTH - WRAPPER_HEIGHT + BORDER\n                : BORDER,\n            }}\n            config={springs.smooth}\n            native\n          >\n            {({ progress }) => (\n              <animated.span\n                style={{\n                  transform: progress.to(v => `translate3d(${v}px, 0, 0)`),\n                }}\n                css={`\n                  position: absolute;\n                  left: 0;\n                  z-index: 1;\n                  top: ${BORDER}px;\n                  width: ${WRAPPER_HEIGHT - BORDER * 4}px;\n                  height: ${WRAPPER_HEIGHT - BORDER * 4}px;\n                  border-radius: ${WRAPPER_HEIGHT - BORDER * 4}px;\n                  background-color: ${theme.controlSurface};\n                  box-shadow: ${disabled\n                    ? 'none'\n                    : '0px 1px 3px rgba(0, 0, 0, 0.15)'};\n                `}\n              />\n            )}\n          </Spring>\n        </span>\n      )}\n    </FocusVisible>\n  )\n}\n\nSwitch.propTypes = {\n  checked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n}\n\nSwitch.defaultProps = {\n  checked: false,\n  disabled: false,\n  onChange: noop,\n}\n\nexport default Switch\n"],"names":["BORDER","WRAPPER_WIDTH","GU","WRAPPER_HEIGHT","Switch","checked","disabled","onChange","theme","useTheme","isFocused","setIsFocused","useState","handleChange","noop","React","FocusVisible","focusVisible","onFocus","e","preventDefault","border","controlBorder","selected","control","controlBorderPressed","focus","Spring","progress","springs","smooth","transform","to","v","controlSurface","propTypes","PropTypes","bool","func","defaultProps"],"mappings":"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"}