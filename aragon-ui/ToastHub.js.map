{"version":3,"file":"ToastHub.js","sources":["../src/components/ToastHub/ToastHub.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { animated, Transition } from '@react-spring/web'\nimport RootPortal from '../RootPortal/RootPortal'\nimport { useViewport } from '../../providers/Viewport/Viewport'\nimport { stylingProps } from '../../utils'\nimport { useTheme } from '../../theme'\nimport { MEDIUM_RADIUS, springs, textStyle, GU } from '../../style'\n\nlet id = 0\n\nconst move = pixel => `translate3d(0,${pixel}px,0)`\n\nexport const ToastContext = React.createContext(() => {\n  throw new Error(\n    \"For Toast to work it needs to be part of a ToastHub's tree, which has to be declared at an upper level!\"\n  )\n})\n\nclass ToastHubProvider extends React.PureComponent {\n  static propTypes = {\n    children: PropTypes.node,\n    position: PropTypes.PropTypes.oneOf(['left', 'center', 'right']),\n    shift: PropTypes.number,\n    showIndicator: PropTypes.bool,\n    threshold: PropTypes.number,\n    timeout: PropTypes.number,\n    top: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    position: 'right',\n    showIndicator: false,\n    threshold: Infinity,\n    timeout: 4000,\n    top: false,\n  }\n\n  state = { items: [], leaving: [], preLeaving: [] }\n\n  cancelMap = new WeakMap()\n\n  add = msg => {\n    const threshold = this.props.threshold\n    this.setState(state => {\n      // This calls cancel on all leaving animations that stack up too much\n      if (threshold !== Infinity) {\n        state.leaving\n          .slice(threshold - 1)\n          .forEach(item => this.cancel(item, true))\n      }\n      return { items: [...state.items, { key: id++, msg }], preLeaving: [] }\n    })\n  }\n\n  remove = item => {\n    this.setState(state => ({\n      items: state.items.filter(i => i.key !== item.key),\n      leaving: state.leaving.includes(item)\n        ? state.leaving\n        : [item, ...state.leaving],\n    }))\n  }\n\n  config = (item, state) => {\n    const config = springs.lazy\n    // Return custom configs on leave (includes the life-line duration)\n    return state === 'leave'\n      ? [{ duration: this.props.timeout }, config, config]\n      : config\n  }\n\n  cancel = (item, secondPass = false) => {\n    if (this.cancelMap.has(item)) {\n      const fn = this.cancelMap.get(item)\n      fn()\n      // There are 3 passes: lifeline, opacity->0, height->0\n      if (secondPass) fn()\n    }\n  }\n\n  leave = item => async (next, cancel) => {\n    // Save cancel so that it can be used interactively\n    this.cancelMap.set(item, cancel)\n\n    // Lifeline first\n    await next({ to: { life: '0%' } })\n\n    // Add to the pre-leaving list, to know when there are no more toasts\n    // displayed even though they are still finishing their leaving transition.\n    this.setState(state => ({\n      preLeaving: [...state.preLeaving, item],\n    }))\n\n    // Then fade out\n    await next({ to: { opacity: 0 } })\n\n    // Then shrink, the last \"true\" informs Keyframes that is is the last frame\n    await next({ to: { height: 0 } }, true)\n\n    this.setState(state => ({\n      leaving: state.leaving.filter(i => i.key !== item.key),\n      preLeaving: state.preLeaving.filter(i => i.key !== item.key),\n    }))\n  }\n\n  render() {\n    const { children, showIndicator, position, top, shift } = this.props\n    const { items, leaving, preLeaving } = this.state\n\n    const renderList = items.length > 0 || leaving.length > 0\n    const itemsVisible =\n      leaving.length === preLeaving.length && leaving.length > 0\n        ? false\n        : renderList\n\n    return (\n      <React.Fragment>\n        <ToastContext.Provider\n          value={{\n            itemsVisible,\n            add: this.add,\n          }}\n        >\n          {children}\n        </ToastContext.Provider>\n        {renderList && (\n          <RootPortal>\n            <ToastList\n              config={this.config}\n              items={items}\n              leave={this.leave}\n              position={position}\n              remove={this.remove}\n              showIndicator={showIndicator}\n              top={top}\n              {...stylingProps(this)}\n              shift={shift}\n            />\n          </RootPortal>\n        )}\n      </React.Fragment>\n    )\n  }\n}\n\n// ToastList is separated from ToastHubProvider so we can skip its rendering\nconst ToastList = React.memo(function ToastList({\n  config,\n  items,\n  leave,\n  position,\n  remove,\n  showIndicator,\n  top,\n  shift,\n  ...props\n}) {\n  const theme = useTheme()\n  const { below } = useViewport()\n  const spacing = below('medium') ? 2 * GU : 3 * GU\n  return (\n    <div\n      css={`\n        position: fixed;\n        z-index: 1000;\n        top: ${top ? `${spacing}px` : 'unset'};\n        bottom: ${top ? 'unset' : `${spacing}px`};\n        left: ${spacing + (shift || 0)}px;\n        right: ${spacing + (shift || 0)}px;\n        display: flex;\n        margin: 0 auto;\n        flex-direction: ${top ? 'column-reverse' : 'column'};\n        pointer-events: none;\n        align-items: ${(() => {\n          if (below('medium')) return 'center'\n          if (position === 'left') return 'flex-start'\n          if (position === 'right') return 'flex-end'\n          return 'center'\n        })()};\n      `}\n      {...props}\n    >\n      <Transition\n        native\n        items={items}\n        keys={item => item.key}\n        from={{ opacity: 0, height: 0, life: '100%', transform: move(30) }}\n        enter={{ opacity: 1, height: 'auto', transform: move(0) }}\n        leave={leave}\n        onRest={remove}\n        config={config}\n      >\n        {/* eslint-disable react/prop-types */}\n        {({ life, ...props }, item) =>\n          item && (\n            <animated.div\n              style={props}\n              css={`\n                box-sizing: border-box;\n                position: relative;\n                width: ${below('medium') ? '100%' : '42ch'};\n              `}\n            >\n              <div\n                css={`\n                  display: flex;\n                  align-items: center;\n                  overflow: hidden;\n                  height: ${6 * GU}px;\n                  margin-top: ${top ? '0' : `${1.25 * GU}px`};\n                  margin-bottom: ${top ? `${1.25 * GU}px` : '0'};\n                  padding: 0 ${2.5 * GU}px;\n                  ${textStyle('body3')};\n                  color: ${theme.floatingContent};\n                  background: ${theme.floating.alpha(0.95)};\n                  border-radius: ${MEDIUM_RADIUS}px;\n                `}\n              >\n                {showIndicator && (\n                  <animated.div\n                    style={{ right: life }}\n                    css={`\n                      position: absolute;\n                      bottom: ${top ? `${1.25 * GU}px` : '0'};\n                      left: 0;\n                      width: auto;\n                      height: 5px;\n                      background-image: linear-gradient(\n                        130deg,\n                        #00b4e6,\n                        #00f0e0\n                      );\n                    `}\n                  />\n                )}\n                <p>{item.msg}</p>\n              </div>\n            </animated.div>\n          )\n        }\n        {/* eslint-enable react/prop-types */}\n      </Transition>\n    </div>\n  )\n})\n\nToastList.propTypes = {\n  config: PropTypes.func,\n  items: PropTypes.array,\n  leave: PropTypes.func,\n  position: PropTypes.PropTypes.oneOf(['left', 'center', 'right']),\n  remove: PropTypes.func,\n  shift: PropTypes.number,\n  showIndicator: PropTypes.bool,\n  top: PropTypes.bool,\n}\n\nconst useToast = () => useContext(ToastContext).add\nconst Toast = props => props.children(useToast())\n\nexport default ToastHubProvider\nexport { Toast, useToast }\n"],"names":["id","move","pixel","ToastContext","React","createContext","Error","ToastHubProvider","PureComponent","_defineProperty","items","leaving","preLeaving","WeakMap","msg","threshold","props","setState","state","Infinity","slice","forEach","item","cancel","key","filter","i","includes","config","springs","lazy","duration","timeout","secondPass","cancelMap","has","fn","get","next","set","to","life","opacity","height","render","children","showIndicator","position","top","shift","renderList","length","itemsVisible","add","RootPortal","_extends","leave","remove","stylingProps","PropTypes","node","oneOf","number","bool","ToastList","memo","theme","useTheme","below","useViewport","spacing","GU","Transition","transform","textStyle","floatingContent","floating","alpha","right","propTypes","func","array","useToast","useContext","Toast","MEDIUM_RADIUS"],"mappings":"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"}