{"version":3,"file":"Popover.js","sources":["../../../../../src/components/Popover/Popover.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from '../../proptypes'\nimport Popper from 'popper.js'\nimport { Transition, animated } from '@react-spring/web'\nimport { useRoot } from '../../providers'\nimport { springs, GU, BIG_RADIUS } from '../../style'\nimport { useTheme } from '../../theme'\nimport { noop, stylingProps, warn, KEY_ESC } from '../../utils'\nimport RootPortal from '../RootPortal/RootPortal'\n\nclass PopoverBase extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    closeOnOpenerFocus: PropTypes.bool,\n    onClose: PropTypes.func,\n    opener: PropTypes._element,\n    placement: PropTypes.oneOf(\n      // \"center\" is a value that doesn’t exist in Popper, but we are using it\n      // to define custom Popper settings (see getPopperSettings() below).\n      ['center'].concat(\n        ...['auto', 'top', 'right', 'bottom', 'left'].map(position => [\n          position,\n          `${position}-start`,\n          `${position}-end`,\n        ])\n      )\n    ),\n    rootBoundary: PropTypes._element,\n    theme: PropTypes.object,\n    transitionStyles: PropTypes.object,\n    zIndex: PropTypes.number,\n  }\n\n  static defaultProps = {\n    closeOnOpenerFocus: false,\n    opener: null,\n    placement: 'center',\n    onClose: noop,\n    zIndex: 999,\n  }\n\n  _cardElement = React.createRef()\n  _popperElement = React.createRef()\n  _document = null\n  _popper = null\n\n  componentDidMount() {\n    this._document = this._popperElement.current.ownerDocument\n    this._document.addEventListener('keydown', this.handleEscape)\n    this.focus()\n    this.initPopper()\n  }\n\n  componentWillUnmount() {\n    this.destroyPopper()\n    this._document.removeEventListener('keydown', this.handleEscape)\n    delete this._document\n    delete this._popper\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { placement, children, opener } = this.props\n    if (\n      prevProps.placement !== placement ||\n      prevProps.children !== children ||\n      prevProps.opener !== opener\n    ) {\n      this.destroyPopper()\n      this.initPopper()\n    }\n  }\n\n  focus() {\n    if (this._cardElement.current) {\n      this._cardElement.current.focus()\n    }\n  }\n\n  getPopperSettings() {\n    const { placement, rootBoundary } = this.props\n\n    const settings = {\n      placement,\n      modifiers: {\n        preventOverflow: {\n          enabled: true,\n          padding: 10,\n          boundariesElement: rootBoundary || 'window',\n        },\n      },\n      positionFixed: false,\n    }\n\n    if (placement !== 'center') {\n      return settings\n    }\n\n    return {\n      ...settings,\n      placement: 'top-start',\n      modifiers: {\n        ...settings.modifiers,\n        arrow: { enabled: false },\n        flip: { enabled: false },\n        offset: { enabled: true, offset: '50% - 50%p, -50%p - 50%' },\n      },\n    }\n  }\n\n  initPopper() {\n    const { opener } = this.props\n    if (!this._popper) {\n      this._popper = new Popper(\n        opener,\n        this._popperElement.current,\n        this.getPopperSettings()\n      )\n    }\n  }\n\n  destroyPopper() {\n    if (this._popper) {\n      this._popper.destroy()\n      this._popper = null\n    }\n  }\n\n  handleEscape = ({ keyCode }) => {\n    if (keyCode === KEY_ESC) {\n      // On escape, we always move the focus back to the opener.\n      this.props.opener.focus()\n      this.attemptClose()\n    }\n  }\n\n  handleBlur = event => {\n    const { closeOnOpenerFocus, opener } = this.props\n    const focusedElement = event.relatedTarget\n\n    // Do not close if:\n    // - The blur event is emitted from an element inside of the popover.\n    // - The focused target is the opener and closeOnOpenerFocus is true.\n    if (\n      (this._cardElement.current &&\n        this._cardElement.current.contains(focusedElement)) ||\n      (closeOnOpenerFocus && opener && opener.contains(focusedElement))\n    ) {\n      if (\n        closeOnOpenerFocus &&\n        (opener.tagName === 'BUTTON' || opener.tagName === 'INPUT')\n      ) {\n        warn(\n          'Popover: using \"closeOnOpenerFocus\" with a <button> or <input> may lead to bugs due ' +\n            'to cross-environment focus event handling. ' +\n            'See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus ' +\n            'for more information.'\n        )\n      }\n      return\n    }\n\n    // Probably a click outside, that doesn’t focus anything else: move the\n    // focus back to the opener.\n    if (!focusedElement) {\n      opener.focus()\n    }\n    this.attemptClose()\n  }\n\n  attemptClose() {\n    const accepted = this.props.onClose()\n\n    // If closing the popover is not accepted, we need to focus it again so\n    // that it can react to onBlur events.\n    if (accepted === false) {\n      this.focus()\n    }\n  }\n\n  boundaryDimensions() {\n    const { rootBoundary } = this.props\n    const hasWindow = typeof window !== 'undefined'\n    return rootBoundary\n      ? [rootBoundary.clientWidth, rootBoundary.clientHeight]\n      : [hasWindow ? window.innerWidth : 0, hasWindow ? window.innerHeight : 0]\n  }\n\n  render() {\n    const { children, theme, transitionStyles, zIndex } = this.props\n    const { scale, opacity } = transitionStyles\n    const [maxWidth, maxHeight] = this.boundaryDimensions()\n    return (\n      <animated.div\n        css={`\n          // default styles until Popper takes over\n          position: absolute;\n          top: 0;\n          left: 0;\n        `}\n        ref={this._popperElement}\n        style={{ zIndex }}\n      >\n        <animated.div\n          tabIndex=\"0\"\n          onBlur={this.handleBlur}\n          ref={this._cardElement}\n          style={{\n            opacity,\n            transform: scale.to(v => `scale3d(${v}, ${v}, 1)`),\n            maxHeight: `${maxHeight - 2 * GU}px`,\n            maxWidth: `${maxWidth - 2 * GU}px`,\n          }}\n          css={`\n            background: ${theme.surface};\n            border: 1px solid ${theme.border};\n            border-radius: ${BIG_RADIUS}px;\n            filter: drop-shadow(0 4px 4px rgba(0, 0, 0, 0.15));\n            &:focus {\n              /* Having the popover visible already means that it focused. */\n              outline: 0;\n            }\n            overflow-y: auto;\n          `}\n          {...stylingProps(this)}\n        >\n          {children}\n        </animated.div>\n      </animated.div>\n    )\n  }\n}\n\nfunction Popover({ scaleEffect, visible, ...props }) {\n  const theme = useTheme()\n  const root = useRoot()\n\n  return (\n    <RootPortal>\n      <Transition\n        items={visible}\n        config={springs.swift}\n        from={{ scale: scaleEffect ? 0.9 : 1, opacity: 0 }}\n        enter={{ scale: 1, opacity: 1 }}\n        leave={{ scale: scaleEffect ? 0.9 : 1, opacity: 0 }}\n        native\n      >\n        {(transitionStyles, visible) =>\n          visible && (\n            <PopoverBase\n              {...props}\n              rootBoundary={root}\n              theme={theme}\n              transitionStyles={transitionStyles}\n            />\n          )\n        }\n      </Transition>\n    </RootPortal>\n  )\n}\n\nPopover.propTypes = {\n  ...PopoverBase.propTypes,\n  scaleEffect: PropTypes.bool,\n  visible: PropTypes.bool,\n}\n\nPopover.defaultProps = {\n  ...PopoverBase.defaultProps,\n  scaleEffect: true,\n  visible: true,\n}\n\nexport default Popover\n"],"names":["PopoverBase","React","Component","createRef","keyCode","KEY_ESC","props","opener","focus","attemptClose","event","closeOnOpenerFocus","focusedElement","relatedTarget","_cardElement","current","contains","tagName","warn","componentDidMount","_document","_popperElement","ownerDocument","addEventListener","handleEscape","initPopper","componentWillUnmount","destroyPopper","removeEventListener","_popper","componentDidUpdate","prevProps","prevState","placement","children","getPopperSettings","rootBoundary","settings","modifiers","preventOverflow","enabled","padding","boundariesElement","positionFixed","arrow","flip","offset","Popper","destroy","accepted","onClose","boundaryDimensions","hasWindow","window","clientWidth","clientHeight","innerWidth","innerHeight","render","theme","transitionStyles","zIndex","scale","opacity","maxWidth","maxHeight","handleBlur","transform","to","v","GU","stylingProps","surface","border","PropTypes","node","bool","func","_element","oneOf","concat","map","position","object","number","noop","Popover","scaleEffect","visible","useTheme","root","useRoot","springs","swift","propTypes","defaultProps","BIG_RADIUS"],"mappings":"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"}