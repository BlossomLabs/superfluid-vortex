{"version":3,"file":"NavigationBar.js","sources":["../../../../../src/components/NavigationBar/NavigationBar.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { Transition, animated } from '@react-spring/web'\nimport { springs } from '../../style'\nimport LeftIcon from './LeftIcon'\n\nclass NavigationBar extends React.Component {\n  static propTypes = {\n    onBack: PropTypes.func,\n    items: PropTypes.arrayOf(PropTypes.node),\n    compact: PropTypes.bool,\n  }\n  static defaultProps = {\n    onBack: () => {},\n    items: [],\n    compact: false,\n  }\n  state = {\n    cachedItems: null,\n    direction: -1,\n  }\n  static getDerivedStateFromProps(props, state) {\n    const updatedState = { cachedItems: props.items }\n    if (!state.cachedItems) {\n      return updatedState\n    }\n    return {\n      ...updatedState,\n      direction: state.cachedItems.length > props.items.length ? 1 : -1,\n    }\n  }\n  render() {\n    const { onBack, items, compact } = this.props\n    const displayedItems = items\n      .map((node, index) => ({ node, index }))\n      .slice(-1)\n    return (\n      <Container>\n        <Transition\n          items={displayedItems}\n          key={displayedItems.map(\n            // Use a different key than 0 when there is only one item, so that\n            // the “leave” transition of the first item can be executed when a\n            // second item is added.\n            item => (items.length === 1 ? -1 : item.index)\n          )}\n          config={springs.smooth}\n          initial={null}\n          from={{ opacity: 0, position: this.state.direction * -1 }}\n          enter={{ opacity: 1, position: 0 }}\n          leave={{ opacity: 0, position: this.state.direction }}\n          native\n        >\n          {(styles, item) =>\n            item && (\n              <Item\n                label={item.node}\n                onBack={onBack}\n                displayBack={item.index > 0}\n                compact={compact}\n                {...styles}\n              />\n            )\n          }\n        </Transition>\n      </Container>\n    )\n  }\n}\n\nconst Item = ({ opacity, position, displayBack, onBack, label, compact }) => (\n  <animated.span\n    style={{\n      display: 'flex',\n      alignItems: 'center',\n      opacity,\n      transform: position.to(p => `translate(${p * 20}px, 0)`),\n    }}\n  >\n    <Title>\n      {displayBack && (\n        <BackButton onClick={onBack} compact={compact}>\n          <LeftIcon />\n        </BackButton>\n      )}\n      <Label>{label}</Label>\n    </Title>\n  </animated.span>\n)\n\nItem.propTypes = {\n  compact: PropTypes.bool,\n  displayBack: PropTypes.bool,\n  label: PropTypes.node,\n  onBack: PropTypes.func,\n  opacity: PropTypes.object,\n  position: PropTypes.object,\n}\n\nconst Container = styled.span`\n  display: flex;\n  position: relative;\n  height: 100%;\n`\n\nconst Title = styled.span`\n  display: flex;\n  align-items: center;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n`\n\nconst Label = styled.span`\n  display: flex;\n  height: 100%;\n  align-items: center;\n  padding-left: 30px;\n  white-space: nowrap;\n  font-size: 22px;\n`\n\nconst BackButton = styled.span`\n  display: flex;\n  align-items: center;\n  height: 63px;\n  padding: ${p => (p.compact ? '0 16px' : '0 20px 0 30px')};\n  cursor: pointer;\n  svg {\n    color: hsl(179, 76%, 48%);\n  }\n  :active svg {\n    color: hsl(179, 76%, 63%);\n  }\n  & + ${Label} {\n    padding-left: 0;\n  }\n`\n\nexport default NavigationBar\n"],"names":["NavigationBar","React","Component","cachedItems","direction","getDerivedStateFromProps","props","state","updatedState","items","length","render","onBack","compact","displayedItems","map","node","index","slice","item","springs","smooth","opacity","position","styles","PropTypes","func","arrayOf","bool","Item","displayBack","label","display","alignItems","transform","to","p","propTypes","object","Container","styled","span","Title","Label","BackButton"],"mappings":"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"}