{"version":3,"file":"Radio.js","sources":["../../../../../src/components/Input/Radio.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport Checkbox from './Checkbox'\nimport { RadioGroupConsumer } from '../Radio/RadioGroup'\nimport { noop } from '../../utils'\n\nconst KEYS_PREV = [\n  'ArrowUp',\n  'ArrowLeft',\n  // IE / Edge support\n  'Up',\n  'Left',\n]\n\nconst KEYS_NEXT = [\n  'ArrowDown',\n  'ArrowRight',\n  // IE / Edge support\n  'Down',\n  'Right',\n]\n\nclass RadioButton extends React.PureComponent {\n  static propTypes = {\n    addRadio: PropTypes.func,\n    checked: PropTypes.bool,\n    disabled: PropTypes.bool,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    onChange: PropTypes.func,\n    removeRadio: PropTypes.func,\n    selectNext: PropTypes.func,\n    selectPrev: PropTypes.func,\n    tabIndex: PropTypes.string,\n  }\n  static defaultProps = {\n    addRadio: noop,\n    checked: false,\n    disabled: false,\n    id: null,\n    onChange: undefined, // <Button /> need to detect if onChange has been set\n    removeRadio: noop,\n    selectNext: noop,\n    selectPrev: noop,\n  }\n  _element = React.createRef()\n  componentDidMount() {\n    const { addRadio, id } = this.props\n    if (addRadio && id !== null) {\n      addRadio(id)\n    }\n  }\n  componentWillUnmount() {\n    const { removeRadio, id } = this.props\n    if (removeRadio && id !== null) {\n      removeRadio(id)\n    }\n  }\n  componentDidUpdate(prevProps) {\n    const { checked } = this.props\n    if (checked && !prevProps.checked) {\n      this._element.current.focus()\n    }\n  }\n  handleKeyDown = event => {\n    const { selectPrev, selectNext } = this.props\n    if (KEYS_PREV.includes(event.key)) {\n      selectPrev()\n      event.preventDefault()\n    }\n    if (KEYS_NEXT.includes(event.key)) {\n      selectNext()\n      event.preventDefault()\n    }\n  }\n  handleChange = () => {\n    const { onChange, id } = this.props\n    if (onChange) {\n      onChange(id)\n    }\n  }\n  render() {\n    const { checked, disabled, id, onChange, tabIndex, ...props } = this.props\n    return (\n      <Checkbox\n        ref={this._element}\n        checked={checked}\n        disabled={disabled}\n        onChange={this.handleChange}\n        onKeyDown={this.handleKeyDown}\n        tabIndex={tabIndex}\n        variant=\"radio\"\n        {...props}\n      />\n    )\n  }\n}\n\nclass Radio extends React.PureComponent {\n  static propTypes = RadioButton.propTypes\n  static defaultProps = RadioButton.defaultProps\n  render() {\n    const { props } = this\n    return (\n      <RadioGroupConsumer>\n        {({\n          onChange,\n          selected,\n          focusableId,\n          addRadio,\n          removeRadio,\n          selectNext,\n          selectPrev,\n        }) => (\n          <RadioButton\n            {...props}\n            onChange={props.onChange || onChange}\n            checked={\n              props.checked || (props.id === selected && selected !== null)\n            }\n            tabIndex={\n              props.tabIndex ||\n              (focusableId === undefined || props.id === focusableId\n                ? '0'\n                : '-1')\n            }\n            addRadio={addRadio}\n            removeRadio={removeRadio}\n            selectPrev={selectPrev}\n            selectNext={selectNext}\n          />\n        )}\n      </RadioGroupConsumer>\n    )\n  }\n}\n\nexport default Radio\n"],"names":["KEYS_PREV","KEYS_NEXT","RadioButton","React","PureComponent","createRef","event","selectPrev","selectNext","props","includes","key","preventDefault","onChange","id","componentDidMount","addRadio","componentWillUnmount","removeRadio","componentDidUpdate","prevProps","checked","_element","current","focus","render","disabled","tabIndex","Checkbox","handleChange","handleKeyDown","PropTypes","func","bool","oneOfType","string","number","noop","undefined","Radio","RadioGroupConsumer","selected","focusableId","propTypes","defaultProps"],"mappings":"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"}