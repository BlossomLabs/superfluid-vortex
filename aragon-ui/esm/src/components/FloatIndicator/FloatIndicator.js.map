{"version":3,"file":"FloatIndicator.js","sources":["../../../../../src/components/FloatIndicator/FloatIndicator.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { Transition, animated } from '@react-spring/web'\nimport { Inside } from 'use-inside'\nimport RootPortal from '../RootPortal/RootPortal'\nimport { useTheme } from '../../theme'\nimport { BIG_RADIUS, GU, textStyle, springs } from '../../style'\nimport { useViewport } from '../../providers/Viewport/Viewport'\nimport { ToastContext } from '../ToastHub/ToastHub'\n\nconst FloatIndicator = React.memo(function FloatIndicator({\n  children,\n  visible,\n  shift,\n  ...props\n}) {\n  const theme = useTheme()\n  const { below } = useViewport()\n  const { itemsVisible: toastItemsVisible } = useContext(ToastContext)\n\n  const wide = below('medium')\n  const horizontalSpacing = wide ? 2 * GU : 3 * GU\n  const horizontalSpacingEnd = horizontalSpacing + (shift || 0)\n\n  return (\n    <RootPortal>\n      <Transition\n        native\n        items={toastItemsVisible ? false : visible}\n        from={{ progress: 0 }}\n        enter={{ progress: 1 }}\n        leave={{ progress: 0 }}\n        config={springs.smooth}\n      >\n        {({ progress }, show) =>\n          show && (\n            <div\n              css={`\n                position: absolute;\n                z-index: 1;\n                bottom: ${wide ? 2 * GU : 3 * GU}px;\n                display: flex;\n                justify-content: flex-end;\n                width: 100%;\n                padding: 0 ${horizontalSpacingEnd}px 0 ${horizontalSpacing}px;\n              `}\n            >\n              <animated.div\n                style={{\n                  pointerEvents: visible ? 'auto' : 'none',\n                  opacity: progress,\n                  transform: progress.to(\n                    v => `translate3d(0, calc(10px * ${1 - v}), 0)`\n                  ),\n                }}\n                css={`\n                  flex-grow: ${Number(wide)};\n                  display: flex;\n                  align-items: center;\n                  height: ${6 * GU}px;\n                  padding: ${1 * GU}px ${2 * GU}px;\n                  ${textStyle('body3')};\n                  white-space: nowrap;\n                  color: ${theme.floatingContent};\n                  background: ${theme.floating};\n                  border: 1px solid ${theme.border};\n                  border-radius: ${BIG_RADIUS}px;\n                  cursor: default;\n                  justify-content: center;\n                `}\n                {...props}\n              >\n                <Inside name=\"FloatIndicator\">{children}</Inside>\n              </animated.div>\n            </div>\n          )\n        }\n      </Transition>\n    </RootPortal>\n  )\n})\n\nFloatIndicator.propTypes = {\n  children: PropTypes.node.isRequired,\n  shift: PropTypes.number,\n  visible: PropTypes.bool,\n}\n\nFloatIndicator.defaultProps = {\n  shift: 0,\n  visible: true,\n}\n\nexport default FloatIndicator\n"],"names":["FloatIndicator","React","memo","children","visible","shift","props","theme","useTheme","below","useViewport","itemsVisible","toastItemsVisible","useContext","ToastContext","wide","horizontalSpacing","GU","horizontalSpacingEnd","progress","springs","smooth","show","pointerEvents","opacity","transform","to","v","Number","textStyle","floatingContent","floating","border","propTypes","PropTypes","node","isRequired","number","bool","defaultProps","BIG_RADIUS"],"mappings":"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"}