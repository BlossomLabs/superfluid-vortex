{"version":3,"file":"EthIdenticon.js","sources":["../../../../../src/components/EthIdenticon/EthIdenticon.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport Blockies from 'react-blockies'\nimport { stylingProps, isAddress } from '../../utils'\n\nconst PX_RATIO = typeof devicePixelRatio === 'undefined' ? 2 : devicePixelRatio\nconst BLOCKIES_SQUARES = 8 // commonly used to represent Ethereum addresses\nconst BASE_SCALE = 3\n\nclass EthIdenticon extends React.Component {\n  static propTypes = {\n    address: PropTypes.string.isRequired,\n    scale: PropTypes.number,\n    radius: PropTypes.number,\n    soften: PropTypes.number,\n  }\n  static defaultProps = {\n    scale: 1,\n    radius: 0,\n    soften: 0.3,\n  }\n  render() {\n    const { address, scale, radius, soften } = this.props\n    const blockiesScale = scale * BASE_SCALE\n    return isAddress(address) ? (\n      <Main\n        size={BLOCKIES_SQUARES * blockiesScale}\n        radius={radius}\n        {...stylingProps(this)}\n      >\n        <BlockiesScaling size={BLOCKIES_SQUARES * blockiesScale * PX_RATIO}>\n          <BlockiesOpacity soften={soften}>\n            <Blockies\n              seed={address.toLowerCase()}\n              size={BLOCKIES_SQUARES}\n              scale={blockiesScale * PX_RATIO}\n            />\n          </BlockiesOpacity>\n        </BlockiesScaling>\n      </Main>\n    ) : null\n  }\n}\n\n/*\n * `vertical-align` prevents the inline parent to have an incorrect height.\n *\n * See\n * - https://bugzilla.mozilla.org/show_bug.cgi?id=491549#c9\n * - https://bugzilla.mozilla.org/show_bug.cgi?id=737757#c1\n */\nconst Main = styled.div`\n  display: inline-flex;\n  vertical-align: middle;\n  overflow: hidden;\n  width: ${p => p.size}px;\n  height: ${p => p.size}px;\n  border-radius: ${p => p.radius}px;\n\n  // Fix an issue where the border-radius wasn’t visible on Blink browsers.\n  // See https://gist.github.com/ayamflow/b602ab436ac9f05660d9c15190f4fd7b\n  mask-image: linear-gradient(red, red);\n`\n\nconst BlockiesOpacity = styled.div`\n  opacity: ${p => 1 - p.soften};\n`\n\nconst BlockiesScaling = styled.div`\n  /* display:flex to remove the display:inline on the child without using a\n  * selector (Blockies doesn’t allow the style prop to be passed). */\n  display: flex;\n  width: ${p => p.size}px;\n  height: ${p => p.size}px;\n  background: #fff;\n\n  /* add high-res screens support to Blockies */\n  transform: scale(${1 / PX_RATIO}, ${1 / PX_RATIO});\n  transform-origin: 0 0;\n`\n\nexport default EthIdenticon\n"],"names":["PX_RATIO","devicePixelRatio","BLOCKIES_SQUARES","BASE_SCALE","EthIdenticon","React","Component","render","address","scale","radius","soften","props","blockiesScale","isAddress","stylingProps","Blockies","toLowerCase","PropTypes","string","isRequired","number","Main","styled","div","p","size","BlockiesOpacity","BlockiesScaling"],"mappings":"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"}