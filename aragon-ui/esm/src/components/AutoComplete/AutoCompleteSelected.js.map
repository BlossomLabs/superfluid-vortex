{"version":3,"file":"AutoCompleteSelected.js","sources":["../../../../../src/components/AutoComplete/AutoCompleteSelected.js"],"sourcesContent":["import React, { useRef, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { RADIUS } from '../../style'\nimport { useTheme } from '../../theme'\nimport { identity, noop } from '../../utils'\nimport ButtonBase from '../ButtonBase/ButtonBase'\nimport AutoComplete from './AutoComplete'\n\nfunction AutoCompleteSelected({\n  forwardedRef,\n  itemButtonStyles,\n  items,\n  onChange,\n  onSelect,\n  onSelectedClick = noop,\n  placeholder,\n  renderItem,\n  required,\n  renderSelected = identity,\n  selected,\n  selectedButtonStyles = '',\n  value,\n  wide,\n}) {\n  const theme = useTheme()\n\n  const ref = forwardedRef\n  const selectedRef = useRef()\n\n  const handleSelect = useCallback(\n    selected => {\n      onSelect(selected)\n      setTimeout(() => {\n        selectedRef.current.focus()\n      }, 0)\n    },\n    [onSelect]\n  )\n  const handleSelectedClick = useCallback(() => {\n    onSelectedClick()\n    setTimeout(() => {\n      if (ref && ref.current) {\n        ref.current.select()\n        ref.current.focus()\n      }\n    }, 0)\n  }, [ref, onSelectedClick])\n\n  if (selected) {\n    return (\n      <ButtonBase\n        onClick={handleSelectedClick}\n        ref={selectedRef}\n        focusRingRadius={RADIUS}\n        focusRingSpacing={1}\n        css={`\n          height: 40px;\n          width: 100%;\n          text-align: left;\n          background: ${theme.surface};\n          cursor: pointer;\n          border: 1px solid ${theme.border};\n          padding: 4px 8px;\n          ${selectedButtonStyles};\n        `}\n      >\n        {renderSelected(selected)}\n      </ButtonBase>\n    )\n  }\n\n  return (\n    <AutoComplete\n      itemButtonStyles={itemButtonStyles}\n      items={items}\n      onChange={onChange}\n      onSelect={handleSelect}\n      placeholder={placeholder}\n      ref={ref}\n      renderItem={renderItem}\n      required={required}\n      value={value}\n      wide={wide}\n    />\n  )\n}\n\nAutoCompleteSelected.propTypes = {\n  forwardedRef: PropTypes.object,\n  itemButtonStyles: PropTypes.string,\n  items: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onSelectedClick: PropTypes.func,\n  placeholder: PropTypes.string,\n  renderItem: PropTypes.func,\n  renderSelected: PropTypes.func,\n  required: PropTypes.bool,\n  selected: PropTypes.object,\n  selectedButtonStyles: PropTypes.string,\n  value: PropTypes.string,\n  wide: PropTypes.bool,\n}\n\nconst AutoCompleteSelectedMemo = React.memo(AutoCompleteSelected)\n\nexport default React.forwardRef((props, ref) => (\n  <AutoCompleteSelectedMemo {...props} forwardedRef={ref} />\n))\n"],"names":["AutoCompleteSelected","forwardedRef","itemButtonStyles","items","onChange","onSelect","onSelectedClick","noop","placeholder","renderItem","required","renderSelected","identity","selected","selectedButtonStyles","value","wide","theme","useTheme","ref","selectedRef","useRef","handleSelect","useCallback","setTimeout","current","focus","handleSelectedClick","select","React","RADIUS","surface","border","propTypes","PropTypes","object","string","array","isRequired","func","bool","AutoCompleteSelectedMemo","memo","forwardRef","props"],"mappings":"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"}