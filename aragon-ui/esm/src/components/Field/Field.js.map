{"version":3,"file":"Field.js","sources":["../../../../../src/components/Field/Field.js"],"sourcesContent":["import React, { useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { Inside } from 'use-inside'\nimport { useTheme } from '../../theme'\nimport { textStyle, GU } from '../../style'\nimport { unselectable } from '../../utils'\n\n// This variable is used as a simple mechanism to generate unique IDs, that can\n// be used to link the <label> to a specific form element by using a render\n// prop. See `children` in the Field documentation for more details.\nlet fieldId = 1\n\nfunction Field({ children, label, required, ...props }) {\n  const theme = useTheme()\n\n  const isRequired =\n    required ||\n    React.Children.toArray(children).some(\n      ({ props }) => props && props.required\n    )\n\n  const id = useMemo(\n    () => (typeof children === 'function' ? `Field_${fieldId++}` : null),\n    [children]\n  )\n\n  const labelProps = id === null ? {} : { htmlFor: id }\n\n  return (\n    <Inside name=\"Field\">\n      <div\n        css={`\n          margin-bottom: ${3 * GU}px;\n        `}\n        {...props}\n      >\n        <label {...labelProps}>\n          <div\n            css={`\n              display: flex;\n              align-items: center;\n              height: ${2 * GU}px;\n              margin-bottom: ${0.5 * GU}px;\n              color: ${theme.surfaceContentSecondary};\n              white-space: nowrap;\n              ${textStyle('label2')};\n              ${unselectable};\n            `}\n          >\n            <Inside name=\"Field:label\">\n              {label}\n              {isRequired && (\n                <span\n                  css={`\n                    color: ${theme.accent};\n                  `}\n                  title=\"Required\"\n                >\n                  {'\\u00a0*'}\n                </span>\n              )}\n            </Inside>\n          </div>\n          <Inside name=\"Field:content\">\n            {typeof children === 'function' ? children({ id }) : children}\n          </Inside>\n        </label>\n      </div>\n    </Inside>\n  )\n}\n\nField.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  label: PropTypes.node,\n  required: PropTypes.bool,\n}\n\nexport default Field\n"],"names":["fieldId","Field","children","label","required","props","theme","useTheme","isRequired","React","Children","toArray","some","id","useMemo","labelProps","htmlFor","GU","surfaceContentSecondary","textStyle","accent","propTypes","PropTypes","oneOfType","node","func","bool","unselectable"],"mappings":";;;;;;;;;;AAQA;AACA;;AACA,IAAIA,OAAO,GAAG,CAAd,CAAA;;AAEA,SAASC,KAAT,CAAwD,IAAA,EAAA;AAAA,EAAzC,IAAA;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,KAAZ;AAAmBC,IAAAA,QAAnB;AAA6B,IAAGC,GAAAA,KAAAA;AAAhC,GAAyC,GAAA,IAAA,CAAA;AACtD,EAAMC,MAAAA,KAAK,GAAGC,QAAQ,EAAtB,CAAA;AAEA,EAAA,MAAMC,UAAU,GACdJ,QAAQ,IACRK,cAAK,CAACC,QAAN,CAAeC,OAAf,CAAuBT,QAAvB,CAAA,CAAiCU,IAAjC,CACE,KAAA,IAAA;AAAA,IAAC,IAAA;AAAEP,MAAAA,KAAAA;AAAF,KAAD,GAAA,KAAA,CAAA;AAAA,IAAA,OAAeA,KAAK,IAAIA,KAAK,CAACD,QAA9B,CAAA;AAAA,GADF,CAFF,CAAA;AAMA,EAAMS,MAAAA,EAAE,GAAGC,OAAO,CAChB,MAAO,OAAOZ,QAAP,KAAoB,UAApB,GAAkC,SAAQF,OAAO,EAAG,EAApD,GAAwD,IAD/C,EAEhB,CAACE,QAAD,CAFgB,CAAlB,CAAA;AAKA,EAAA,MAAMa,UAAU,GAAGF,EAAE,KAAK,IAAP,GAAc,EAAd,GAAmB;AAAEG,IAAAA,OAAO,EAAEH,EAAAA;AAAX,GAAtC,CAAA;AAEA,EAAA,oBACEJ,6BAAC,MAAD,EAAA;AAAQ,IAAA,IAAI,EAAC,OAAA;AAAb,GAAA,eACEA,sDAIMJ,KAJN,EAAA;AAAA,IAAA,KAAA,EAEqB,CAAIY,GAAAA,EAAAA;AAFzB,GAME,CAAA,eAAAR,cAAA,CAAA,aAAA,CAAA,OAAA,EAAWM,UAAX,eACEN,cAAA,CAAA,aAAA,CAAA,WAAA,EAAA;AAAA,IAAA,MAAA,EAIc,IAAIQ,EAJlB;AAAA,IAAA,MAAA,EAKqB,MAAMA,EAL3B;AAAA,IAMaX,MAAAA,EAAAA,KAAK,CAACY,uBANnB;AAAA,IAQMC,MAAAA,EAAAA,SAAS,CAAC,QAAD,CAAA;AARf,GAAA,eAYEV,6BAAC,MAAD,EAAA;AAAQ,IAAA,IAAI,EAAC,aAAA;AAAb,GACGN,EAAAA,KADH,EAEGK,UAAU,iBACTC,cAAA,CAAA,aAAA,CAAA,WAAA,EAAA;AAIE,IAAA,KAAK,EAAC,UAJR;AAAA,IAAA,MAAA,EAEaH,KAAK,CAACc,MAAAA;AAFnB,GAAA,EAMG,SANH,CAHJ,CAZF,CADF,eA2BEX,6BAAC,MAAD,EAAA;AAAQ,IAAA,IAAI,EAAC,eAAA;AAAb,GAAA,EACG,OAAOP,QAAP,KAAoB,UAApB,GAAiCA,QAAQ,CAAC;AAAEW,IAAAA,EAAAA;AAAF,GAAD,CAAzC,GAAoDX,QADvD,CA3BF,CANF,CADF,CADF,CAAA;AA0CD,CAAA;;AAEDD,KAAK,CAACoB,SAAN,GAAkB;AAChBnB,EAAAA,QAAQ,EAAEoB,SAAS,CAACC,SAAV,CAAoB,CAACD,SAAS,CAACE,IAAX,EAAiBF,SAAS,CAACG,IAA3B,CAApB,CADM;AAEhBtB,EAAAA,KAAK,EAAEmB,SAAS,CAACE,IAFD;AAGhBpB,EAAAA,QAAQ,EAAEkB,SAAS,CAACI,IAAAA;AAHJ,CAAlB,CAAA;;;;;;;;;;gLA1BgBC;;;;;;;;;"}