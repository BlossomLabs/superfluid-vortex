{"version":3,"file":"DropDown.js","sources":["../../../../../src/components/DropDown/DropDown.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { Inside } from 'use-inside'\nimport { warnOnce, unselectable } from '../../utils'\nimport { BIG_RADIUS, GU, RADIUS, textStyle } from '../../style'\nimport { useTheme } from '../../theme'\nimport { IconDown } from '../../icons'\nimport { useViewport } from '../../providers/Viewport/Viewport'\nimport ButtonBase from '../ButtonBase/ButtonBase'\nimport Popover from '../Popover/Popover'\n\nconst MIN_WIDTH = 128\n\nfunction useDropDown({\n  buttonRef,\n  items,\n  displayedLabel,\n  onChange,\n  placeholder,\n  selected,\n}) {\n  const [selectedLabel, setSelectedLabel] = useState(displayedLabel)\n  const [opened, setOpened] = useState(false)\n\n  const close = useCallback(() => {\n    setOpened(false)\n\n    if (buttonRef.current) {\n      buttonRef.current.focus()\n    }\n  }, [buttonRef])\n\n  const toggle = useCallback(() => setOpened(opened => !opened), [])\n\n  const handleItemSelect = useCallback(\n    index => {\n      onChange(index)\n      close()\n    },\n    [onChange, close]\n  )\n\n  useEffect(() => {\n    if (selected === -1 || !items[selected]) {\n      if (displayedLabel) {\n        setSelectedLabel(displayedLabel)\n      }\n      return\n    }\n    setSelectedLabel(items[selected])\n  }, [items, selected, displayedLabel])\n\n  return {\n    handleItemSelect,\n    close,\n    toggle,\n    opened,\n    selectedLabel,\n  }\n}\n\nfunction useButtonRef(cb) {\n  const buttonRef = useRef(null)\n\n  const refCallback = useCallback(\n    el => {\n      if (el) {\n        cb(el)\n      }\n      buttonRef.current = el\n    },\n    [cb]\n  )\n\n  return {\n    buttonRef,\n    refCallback,\n  }\n}\n\nconst DropDown = React.memo(function DropDown({\n  disabled,\n  header,\n  items,\n  onChange,\n  placeholder,\n  renderLabel,\n  selected,\n  wide,\n  width,\n\n  // deprecated\n  active,\n  label,\n\n  // rest\n  ...props\n}) {\n  if (active !== undefined) {\n    warnOnce(\n      'DropDown:active',\n      'The “active” prop is deprecated. Please use “selected” to pass the selected index instead.'\n    )\n  }\n  if (label !== undefined) {\n    warnOnce(\n      'DropDown:label',\n      'DropDown: the “label” prop is deprecated, please use “placeholder” instead.'\n    )\n  }\n\n  const theme = useTheme()\n  const { width: vw } = useViewport()\n\n  const [widthNoPx = MIN_WIDTH] = (width || '').split('px')\n  const [buttonWidth, setButtonWidth] = useState(0)\n  const [measureWidth, setMeasureWidth] = useState(true)\n\n  // Adjust the button width if the item widths are larger than declared width\n  const [placeholderMinWidth, setPlaceholderMinWidth] = useState(\n    Math.min(widthNoPx, MIN_WIDTH)\n  )\n  const popoverRefCallback = useCallback(el => {\n    if (!el) {\n      return\n    }\n    setPlaceholderMinWidth(el.clientWidth)\n    setMeasureWidth(false)\n  }, [])\n  useEffect(() => {\n    setMeasureWidth(true)\n  }, [vw, items])\n\n  // Update the button width every time the reference updates\n  const { refCallback, buttonRef } = useButtonRef(el => {\n    setButtonWidth(el.clientWidth)\n  })\n  // And every time the viewport resizes\n  useEffect(() => {\n    if (!buttonRef.current) {\n      return\n    }\n    setButtonWidth(buttonRef.current.clientWidth)\n  }, [buttonRef, vw])\n\n  const selectedIndex = useMemo(() => {\n    if (selected !== undefined) {\n      return selected\n    }\n    if (active !== undefined) {\n      return active\n    }\n    return -1\n  }, [active, selected])\n\n  const {\n    handleItemSelect,\n    close,\n    toggle,\n    opened,\n    selectedLabel,\n  } = useDropDown({\n    buttonRef,\n    displayedLabel: placeholder || label,\n    items,\n    onChange,\n    selected,\n  })\n\n  const closedWithChanges = !opened && selectedIndex !== -1\n  const Label = renderLabel\n\n  return (\n    <Inside name=\"DropDown\">\n      <ButtonBase\n        ref={refCallback}\n        disabled={disabled}\n        onClick={toggle}\n        focusRingRadius={BIG_RADIUS}\n        focusRingSpacing={1}\n        css={`\n          display: ${wide ? 'flex' : 'inline-flex'};\n          justify-content: space-between;\n          align-items: center;\n          height: ${5 * GU}px;\n          padding-left: ${2 * GU}px;\n          padding-right: ${1.5 * GU}px;\n          width: ${width || (wide ? '100%' : 'auto')};\n          min-width: ${wide ? 'auto' : `${placeholderMinWidth}px`};\n          background: ${disabled ? theme.disabled : theme.surface};\n          color: ${disabled ? theme.disabledContent : theme.surfaceContent};\n          border: ${disabled ? 0 : 1}px solid\n            ${closedWithChanges ? theme.selected : theme.border};\n          ${textStyle('body2')};\n          ${disabled\n            ? 'font-weight: 600;'\n            : `\n              &:active {\n                background: ${theme.surfacePressed};\n              }\n            `}\n        `}\n        {...props}\n      >\n        <div css=\"overflow: hidden;\">\n          <Label selectedIndex={selectedIndex} selectedLabel={selectedLabel} />\n        </div>\n        <IconDown\n          size=\"tiny\"\n          css={`\n            margin-left: ${1.5 * GU}px;\n            color: ${disabled\n              ? theme.disabledIcon\n              : closedWithChanges\n              ? theme.accent\n              : theme.surfaceIcon};\n          `}\n        />\n      </ButtonBase>\n      {measureWidth && (\n        <div\n          css={`\n            position: absolute;\n            top: -100vh;\n            left: -100vw;\n            opacity: 0;\n            visibility: hidden;\n          `}\n        >\n          <PopoverContent\n            refCallback={popoverRefCallback}\n            buttonWidth={buttonWidth}\n            header={header}\n            items={items}\n          />\n        </div>\n      )}\n      <Popover onClose={close} opener={buttonRef.current} visible={opened}>\n        <PopoverContent\n          buttonWidth={buttonWidth}\n          header={header}\n          items={items}\n          handleItemSelect={handleItemSelect}\n          selectedIndex={selectedIndex}\n        />\n      </Popover>\n    </Inside>\n  )\n})\n\nDropDown.propTypes = {\n  disabled: PropTypes.bool,\n  header: PropTypes.node,\n  items: PropTypes.arrayOf(PropTypes.node).isRequired,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.node,\n  renderLabel: PropTypes.func,\n  selected: PropTypes.number,\n  wide: PropTypes.bool,\n  width: PropTypes.string,\n\n  // deprecated\n  active: PropTypes.number,\n  label: PropTypes.string,\n}\n\nDropDown.defaultProps = {\n  placeholder: 'Select an item',\n  renderLabel: ({ selectedLabel }) => selectedLabel,\n  wide: false,\n}\n\nconst PopoverContent = React.memo(function PopoverContent({\n  refCallback,\n  buttonWidth,\n  header,\n  items,\n  handleItemSelect,\n  selectedIndex,\n}) {\n  const theme = useTheme()\n  return (\n    <div\n      css={`\n        min-width: ${buttonWidth}px;\n        color: ${theme.surfaceContentSecondary};\n      `}\n    >\n      {header && (\n        <div\n          css={`\n            padding: ${1.5 * GU}px ${2 * GU}px ${1.25 * GU}px;\n            ${textStyle('label2')};\n            ${unselectable};\n          `}\n        >\n          {header}\n        </div>\n      )}\n      <ul\n        ref={refCallback}\n        css={`\n          margin: 0;\n          padding: 0;\n          list-style: none;\n          width: 100%;\n        `}\n      >\n        <Inside name=\"DropDown:menu\">\n          {items.map((item, index) => {\n            return (\n              <Item\n                key={index}\n                index={index}\n                onSelect={handleItemSelect}\n                theme={theme}\n                item={item}\n                header={header}\n                length={items.length}\n                selected={selectedIndex}\n              />\n            )\n          })}\n        </Inside>\n      </ul>\n    </div>\n  )\n})\n\nPopoverContent.propTypes = {\n  refCallback: PropTypes.func.isRequired,\n  buttonWidth: PropTypes.number.isRequired,\n  header: PropTypes.node,\n  items: PropTypes.array.isRequired,\n  handleItemSelect: PropTypes.func.isRequired,\n  selectedIndex: PropTypes.number.isRequired,\n}\n\nPopoverContent.defaultProps = {\n  refCallback: () => null,\n  handleItemSelect: () => null,\n  selectedIndex: -1,\n}\n\nconst Item = React.memo(function Item({\n  header,\n  index,\n  item,\n  length,\n  onSelect,\n  selected,\n  theme,\n}) {\n  const handleClick = useCallback(() => {\n    onSelect(index)\n  }, [index, onSelect])\n\n  return (\n    <li>\n      <ButtonBase\n        onClick={handleClick}\n        css={`\n          width: 100%;\n          text-align: left;\n          padding: ${1.25 * GU}px ${2 * GU}px;\n          border-radius: 0;\n          color: ${theme.content};\n\n          ${textStyle('body2')};\n          ${\n            !header && index === 0 ? `border-top-left-radius: ${RADIUS}px;` : ''\n          }\n          ${\n            index === length - 1\n              ? `border-bottom-left-radius: ${RADIUS}px;`\n              : ''\n          }\n          ${\n            selected === index\n              ? `\n              border-left: 2px solid ${theme.accent};\n              background: ${theme.surfaceSelected};\n            `\n              : ''\n          }\n\n          &:active {\n            background: ${theme.surfacePressed};\n          }\n        `}\n      >\n        {item}\n      </ButtonBase>\n    </li>\n  )\n})\n\nItem.propTypes = {\n  header: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  item: PropTypes.node.isRequired,\n  length: PropTypes.number.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  selected: PropTypes.number.isRequired,\n  theme: PropTypes.object.isRequired,\n}\n\nexport default DropDown\n"],"names":["MIN_WIDTH","useDropDown","buttonRef","items","displayedLabel","onChange","placeholder","selected","selectedLabel","setSelectedLabel","useState","opened","setOpened","close","useCallback","current","focus","toggle","handleItemSelect","index","useEffect","useButtonRef","cb","useRef","refCallback","el","DropDown","React","memo","disabled","header","renderLabel","wide","width","active","label","props","undefined","warnOnce","theme","useTheme","vw","useViewport","widthNoPx","split","buttonWidth","setButtonWidth","measureWidth","setMeasureWidth","placeholderMinWidth","setPlaceholderMinWidth","Math","min","popoverRefCallback","clientWidth","selectedIndex","useMemo","closedWithChanges","Label","BIG_RADIUS","GU","surface","disabledContent","surfaceContent","border","textStyle","surfacePressed","disabledIcon","accent","surfaceIcon","propTypes","PropTypes","bool","node","arrayOf","isRequired","func","number","string","defaultProps","PopoverContent","surfaceContentSecondary","map","item","length","array","Item","onSelect","handleClick","content","RADIUS","surfaceSelected","object","unselectable"],"mappings":"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"}