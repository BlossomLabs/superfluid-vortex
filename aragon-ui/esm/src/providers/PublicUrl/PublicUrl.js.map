{"version":3,"file":"PublicUrl.js","sources":["../../../../../src/providers/PublicUrl/PublicUrl.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport getDisplayName from 'react-display-name'\nimport { prefixUrl } from '../../utils/url'\n\nconst PublicUrlContext = React.createContext('')\nconst { Provider, Consumer } = PublicUrlContext\n\nclass PublicUrlProvider extends React.PureComponent {\n  static propTypes = {\n    url: PropTypes.string.isRequired,\n    children: PropTypes.node,\n  }\n  render() {\n    const { url, children } = this.props\n    return <Provider value={url}>{children}</Provider>\n  }\n}\n\n// HOC wrapper\nconst hocWrap = Component => {\n  const HOC = props => (\n    <Consumer>{url => <Component {...props} publicUrl={url} />}</Consumer>\n  )\n  HOC.displayName = `PublicUrlProvider(${getDisplayName(Component)})`\n  return HOC\n}\n\n// styled-components utility for URLs\nconst styledUrl = url => ({ publicUrl }) => prefixUrl(url, publicUrl)\n\nconst PublicUrl = props => <Consumer {...props} />\nPublicUrl.Provider = PublicUrlProvider\nPublicUrl.hocWrap = hocWrap\nPublicUrl.styledUrl = styledUrl\n\nfunction usePublicUrl() {\n  return useContext(PublicUrlContext)\n}\n\nexport { PublicUrl, Provider, hocWrap, styledUrl, usePublicUrl }\nexport default PublicUrl\n"],"names":["PublicUrlContext","React","createContext","Provider","Consumer","PublicUrlProvider","PureComponent","render","url","children","props","PropTypes","string","isRequired","node","hocWrap","Component","HOC","displayName","getDisplayName","styledUrl","publicUrl","prefixUrl","PublicUrl","usePublicUrl","useContext"],"mappings":";;;;;;;AAKA,MAAMA,gBAAgB,gBAAGC,cAAK,CAACC,aAAN,CAAoB,EAApB,CAAzB,CAAA;AACM,MAAA;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,QAAAA;AAAZ,CAAA,GAAyBJ,iBAA/B;;AAEA,MAAMK,iBAAN,SAAgCJ,cAAK,CAACK,aAAtC,CAAoD;AAKlDC,EAAAA,MAAM,GAAG;AACP,IAAM,MAAA;AAAEC,MAAAA,GAAF;AAAOC,MAAAA,QAAAA;AAAP,KAAA,GAAoB,KAAKC,KAA/B,CAAA;AACA,IAAA,oBAAOT,6BAAC,QAAD,EAAA;AAAU,MAAA,KAAK,EAAEO,GAAAA;AAAjB,KAAA,EAAuBC,QAAvB,CAAP,CAAA;AACD,GAAA;;AARiD;;;AAA9CJ,eAAAA,CAAAA,mBACe,WAAA,EAAA;AACjBG,EAAAA,GAAG,EAAEG,SAAS,CAACC,MAAV,CAAiBC,UADL;AAEjBJ,EAAAA,QAAQ,EAAEE,SAAS,CAACG,IAAAA;AAFH;;AAWfC,MAAAA,OAAO,GAAGC,SAAS,IAAI;AAC3B,EAAA,MAAMC,GAAG,GAAGP,KAAK,iBACfT,cAAC,CAAA,aAAA,CAAA,QAAD,EAAWO,IAAAA,EAAAA,GAAG,iBAAIP,cAAA,CAAA,aAAA,CAAC,SAAD,EAAA,QAAA,CAAA,EAAA,EAAeS,KAAf,EAAA;AAAsB,IAAA,SAAS,EAAEF,GAAAA;AAAjC,GAAA,CAAA,CAAlB,CADF,CAAA;;AAGAS,EAAAA,GAAG,CAACC,WAAJ,GAAmB,qBAAoBC,QAAc,CAACH,SAAD,CAAY,CAAjE,CAAA,CAAA,CAAA;AACA,EAAA,OAAOC,GAAP,CAAA;AACD;;;AAGKG,MAAAA,SAAS,GAAGZ,GAAG,IAAI,IAAA,IAAA;AAAA,EAAC,IAAA;AAAEa,IAAAA,SAAAA;AAAF,GAAD,GAAA,IAAA,CAAA;AAAA,EAAA,OAAmBC,SAAS,CAACd,GAAD,EAAMa,SAAN,CAA5B,CAAA;AAAA,EAAzB;;AAEME,MAAAA,SAAS,GAAGb,KAAK,iBAAIT,6BAAC,QAAD,EAAcS,KAAd,EAA3B;;AACAa,SAAS,CAACpB,QAAV,GAAqBE,iBAArB,CAAA;AACAkB,SAAS,CAACR,OAAV,GAAoBA,OAApB,CAAA;AACAQ,SAAS,CAACH,SAAV,GAAsBA,SAAtB,CAAA;;AAEA,SAASI,YAAT,GAAwB;AACtB,EAAOC,OAAAA,UAAU,CAACzB,gBAAD,CAAjB,CAAA;AACD;;;;"}