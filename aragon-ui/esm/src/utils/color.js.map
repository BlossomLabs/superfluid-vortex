{"version":3,"file":"color.js","sources":["../../../../src/utils/color.js"],"sourcesContent":["const RGB_HEX_RE = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/\n\nfunction rgbFromRgbInt(rgbInt) {\n  return {\n    r: Math.floor(rgbInt / Math.pow(256, 2)),\n    g: Math.floor((rgbInt / 256) % 256),\n    b: Math.floor(rgbInt % 256),\n  }\n}\n\nfunction normalizeHexColor(value) {\n  const matches = value ? String(value).match(RGB_HEX_RE) : null\n\n  if (matches === null) {\n    throw new Error(\n      `color(): the value must be a valid CSS hexadecimal color. Received: ${value}`\n    )\n  }\n\n  const hexColor = matches[1].toUpperCase()\n\n  if (hexColor.length === 3) {\n    return [...hexColor].map(c => c + c).join('')\n  }\n\n  return hexColor\n}\n\nclass Color extends String {\n  constructor(value) {\n    super(value)\n\n    const hexColor = normalizeHexColor(value)\n    const { r, g, b } = rgbFromRgbInt(parseInt(hexColor, 16))\n\n    this.r = r\n    this.g = g\n    this.b = b\n    this.hexColor = hexColor\n  }\n  toString() {\n    return this.toCssRgb()\n  }\n  valueOf() {\n    return this.toCssRgb()\n  }\n  toArray() {\n    return [this.r, this.g, this.b]\n  }\n  toObject() {\n    const { r, g, b } = this\n    return { r, g, b }\n  }\n  alpha(alpha) {\n    return this.toCssRgb({ alpha })\n  }\n  toCssRgb({ alpha = 1 } = {}) {\n    if (alpha === 1) {\n      return `#${this.hexColor}`\n    }\n    alpha = Math.max(0, Math.min(1, alpha))\n    return `rgba(${this.r}, ${this.g}, ${this.b}, ${alpha})`\n  }\n}\n\nfunction color(value) {\n  return new Color(value)\n}\n\nexport default color\n"],"names":["RGB_HEX_RE","rgbFromRgbInt","rgbInt","r","Math","floor","pow","g","b","normalizeHexColor","value","matches","String","match","Error","hexColor","toUpperCase","length","map","c","join","Color","constructor","parseInt","toString","toCssRgb","valueOf","toArray","toObject","alpha","max","min","color"],"mappings":"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"}