{"version":3,"file":"Pagination.js","sources":["../src/components/Pagination/Pagination.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { GU } from '../../style'\nimport { noop } from '../../utils'\nimport { PaginationItem } from './PaginationItem'\nimport { PaginationSeparator } from './PaginationSeparator'\n\nfunction paginationItems(pages, selected) {\n  const all = [...Array(pages)].map((_, i) => i)\n\n  if (all.length < 6) {\n    return all\n  }\n\n  const first = 0\n  const last = all.length - 1\n  const prev = Math.min(all.length, Math.max(0, selected - 1))\n  const next = Math.min(all.length, Math.max(0, selected + 1))\n\n  const items = []\n\n  // Selected item + previous + next\n  items.push(...all.slice(prev, next + 1))\n\n  // Display three items, even if the first / last one is selected\n  if (selected === last) {\n    items.unshift(last - 2)\n  }\n  if (selected === first) {\n    items.push(first + 2)\n  }\n\n  // Ellipsises\n  if (prev > first + 1) {\n    items.unshift(-1)\n  }\n  if (next < last - 1) {\n    items.push(-1)\n  }\n\n  // Always display the first & last items\n  if (prev >= first + 1) {\n    items.unshift(all[0])\n  }\n  if (next <= last - 1) {\n    items.push(all[all.length - 1])\n  }\n\n  return items\n}\n\nconst Pagination = React.memo(function Pagination({\n  pages,\n  selected,\n  onChange,\n  touchMode,\n  ...props\n}) {\n  const items = paginationItems(pages, selected)\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: ${2 * GU}px 0;\n        & > div + div {\n          margin-left: ${1 * GU}px;\n        }\n      `}\n      {...props}\n    >\n      {items.map((pageIndex, i) =>\n        pageIndex === -1 ? (\n          <PaginationSeparator key={`separator-${i}`} />\n        ) : (\n          <PaginationItem\n            key={pageIndex}\n            index={pageIndex}\n            selected={selected === pageIndex}\n            onChange={onChange}\n            touchMode={touchMode}\n          />\n        )\n      )}\n    </div>\n  )\n})\n\nPagination.propTypes = {\n  onChange: PropTypes.func,\n  pages: PropTypes.number,\n  selected: PropTypes.number,\n  touchMode: PropTypes.bool,\n}\n\nPagination.defaultProps = {\n  onChange: noop,\n  pages: 0,\n  selected: 0,\n  touchMode: false,\n}\n\nexport default Pagination\n"],"names":["paginationItems","pages","selected","all","Array","map","_","i","length","first","last","prev","Math","min","max","next","items","push","slice","unshift","Pagination","React","memo","onChange","touchMode","props","GU","pageIndex","PaginationSeparator","PaginationItem","propTypes","PropTypes","func","number","bool","defaultProps","noop"],"mappings":"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"}