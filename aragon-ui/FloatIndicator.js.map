{"version":3,"file":"FloatIndicator.js","sources":["../src/components/FloatIndicator/FloatIndicator.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { Transition, animated } from '@react-spring/web'\nimport { Inside } from 'use-inside'\nimport RootPortal from '../RootPortal/RootPortal'\nimport { useTheme } from '../../theme'\nimport { BIG_RADIUS, GU, textStyle, springs } from '../../style'\nimport { useViewport } from '../../providers/Viewport/Viewport'\nimport { ToastContext } from '../ToastHub/ToastHub'\n\nconst FloatIndicator = React.memo(function FloatIndicator({\n  children,\n  visible,\n  shift,\n  ...props\n}) {\n  const theme = useTheme()\n  const { below } = useViewport()\n  const { itemsVisible: toastItemsVisible } = useContext(ToastContext)\n\n  const wide = below('medium')\n  const horizontalSpacing = wide ? 2 * GU : 3 * GU\n  const horizontalSpacingEnd = horizontalSpacing + (shift || 0)\n\n  return (\n    <RootPortal>\n      <Transition\n        native\n        items={toastItemsVisible ? false : visible}\n        from={{ progress: 0 }}\n        enter={{ progress: 1 }}\n        leave={{ progress: 0 }}\n        config={springs.smooth}\n      >\n        {({ progress }, show) =>\n          show && (\n            <div\n              css={`\n                position: absolute;\n                z-index: 1;\n                bottom: ${wide ? 2 * GU : 3 * GU}px;\n                display: flex;\n                justify-content: flex-end;\n                width: 100%;\n                padding: 0 ${horizontalSpacingEnd}px 0 ${horizontalSpacing}px;\n              `}\n            >\n              <animated.div\n                style={{\n                  pointerEvents: visible ? 'auto' : 'none',\n                  opacity: progress,\n                  transform: progress.to(\n                    v => `translate3d(0, calc(10px * ${1 - v}), 0)`\n                  ),\n                }}\n                css={`\n                  flex-grow: ${Number(wide)};\n                  display: flex;\n                  align-items: center;\n                  height: ${6 * GU}px;\n                  padding: ${1 * GU}px ${2 * GU}px;\n                  ${textStyle('body3')};\n                  white-space: nowrap;\n                  color: ${theme.floatingContent};\n                  background: ${theme.floating};\n                  border: 1px solid ${theme.border};\n                  border-radius: ${BIG_RADIUS}px;\n                  cursor: default;\n                  justify-content: center;\n                `}\n                {...props}\n              >\n                <Inside name=\"FloatIndicator\">{children}</Inside>\n              </animated.div>\n            </div>\n          )\n        }\n      </Transition>\n    </RootPortal>\n  )\n})\n\nFloatIndicator.propTypes = {\n  children: PropTypes.node.isRequired,\n  shift: PropTypes.number,\n  visible: PropTypes.bool,\n}\n\nFloatIndicator.defaultProps = {\n  shift: 0,\n  visible: true,\n}\n\nexport default FloatIndicator\n"],"names":["FloatIndicator","React","memo","children","visible","shift","props","theme","useTheme","below","useViewport","itemsVisible","toastItemsVisible","useContext","ToastContext","wide","horizontalSpacing","GU","horizontalSpacingEnd","RootPortal","Transition","progress","springs","smooth","show","_extends","pointerEvents","opacity","transform","to","v","Number","textStyle","floatingContent","floating","border","Inside","propTypes","PropTypes","node","isRequired","number","bool","defaultProps","BIG_RADIUS"],"mappings":"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"}