(this["webpackJsonpsuperfluid-vortex"]=this["webpackJsonpsuperfluid-vortex"]||[]).push([[0],{367:function(e){e.exports=JSON.parse('{"base":"vs-dark","inherit":true,"rules":[{"background":"000000","token":""},{"foreground":"ffffff","background":"0f0f0f","token":"text"},{"background":"000000","token":"source.ruby.rails.embedded.html"},{"foreground":"ffffff","background":"101010","token":"text.html.ruby"},{"foreground":"ccff33","token":"constant.numeric.ruby"},{"foreground":"ffffff","background":"000000","token":"source"},{"foreground":"9933cc","token":"comment"},{"foreground":"339999","token":"constant"},{"foreground":"ff6600","token":"keyword"},{"foreground":"edf8f9","token":"keyword.preprocessor"},{"foreground":"ffffff","token":"keyword.preprocessor directive"},{"foreground":"ffcc00","token":"entity.name.function"},{"foreground":"ffcc00","token":"storage.type.function.js"},{"fontStyle":"italic","token":"variable.parameter"},{"foreground":"772cb7","background":"070707","token":"source comment.block"},{"foreground":"ffffff","token":"variable.other"},{"foreground":"999966","token":"support.function.activerecord.rails"},{"foreground":"66ff00","token":"string"},{"foreground":"aaaaaa","token":"string constant.character.escape"},{"foreground":"000000","background":"cccc33","token":"string.interpolated"},{"foreground":"44b4cc","token":"string.regexp"},{"foreground":"cccc33","token":"string.literal"},{"foreground":"555555","token":"string.interpolated constant.character.escape"},{"fontStyle":"underline","token":"entity.name.class"},{"fontStyle":"underline","token":"support.class.js"},{"fontStyle":"italic underline","token":"entity.other.inherited-class"},{"foreground":"ff6600","token":"meta.tag.inline.any.html"},{"foreground":"ff6600","token":"meta.tag.block.any.html"},{"foreground":"99cc99","fontStyle":"italic","token":"entity.other.attribute-name"},{"foreground":"dde93d","token":"keyword.other"},{"foreground":"ff6600","token":"meta.selector.css"},{"foreground":"ff6600","token":"entity.other.attribute-name.pseudo-class.css"},{"foreground":"ff6600","token":"entity.name.tag.wildcard.css"},{"foreground":"ff6600","token":"entity.other.attribute-name.id.css"},{"foreground":"ff6600","token":"entity.other.attribute-name.class.css"},{"foreground":"999966","token":"support.type.property-name.css"},{"foreground":"ffffff","token":"keyword.other.unit.css"},{"foreground":"ffffff","token":"constant.other.rgb-value.css"},{"foreground":"ffffff","token":"constant.numeric.css"},{"foreground":"ffffff","token":"support.function.event-handler.js"},{"foreground":"ffffff","token":"keyword.operator.js"},{"foreground":"cccc66","token":"keyword.control.js"},{"foreground":"ffffff","token":"support.class.prototype.js"},{"foreground":"ff6600","token":"object.property.function.prototype.js"}],"colors":{"editor.foreground":"#FFFFFF","editor.background":"#000000","editor.selectionBackground":"#35493CE0","editor.lineHighlightBackground":"#333333","editorCursor.foreground":"#FFFFFF","editorWhitespace.foreground":"#404040","editorGutter.background":"#1a1a1a"}}')},382:function(e,t){},396:function(e,t){},632:function(e,t,n){"use strict";n.r(t);var r=n(22),o=n(1),a=n.n(o),i=n(40),c=n.n(i),s=n(181),d=n(30),u=n(76),l=n(351),A=n(372),f=n(210),p=n(57),b=n(20),m=[3,4,5,10,42,69,137,42161,421611,80001];window.Buffer||(window.Buffer=s.Buffer);var j,g=function(e){var t=e.chainId;return t&&m.includes(t)?new f.a(t,"ec4093370ba74486a6981f54fa06b0b6"):p.a.getDefaultProvider()},x=function(e){var t=e.children,n=Object(o.useMemo)((function(){return function(){var e=d.j.filter((function(e){return m.includes(e.id)}));return[new l.a({chains:e,options:{shimDisconnect:!0}}),new A.a({chains:e,options:{infuraId:"ec4093370ba74486a6981f54fa06b0b6",qrcode:!0}})]}()}),[]);return Object(b.jsx)(u.a,{connectors:n,provider:g,children:t})},h=n(16),O=n(43),v=n(21),y=n.p+"static/media/metamask.c5f1312c.svg",k=n.p+"static/media/walletconnect.82f35f42.svg",w=new d.k,E=function(e){switch(e){case"injected":return y;case"walletConnect":return k;default:return}},C=function(e,t){var n;return e||(null!==(n=t.chain)&&void 0!==n&&n.unsupported?w:void 0)},S=n(360);!function(e){e[e.Wallets=0]="Wallets",e[e.Connecting=1]="Connecting",e[e.Error=2]="Error",e[e.Action=3]="Action",e[e.Connected=4]="Connected"}(j||(j={}));var U,R,I,B,D,T,G,L,F,P,N,Q,M,W,_,V,J,K,H,Y={opened:!1,promptedAction:null,selectedConnector:null,currentScreen:j.Wallets,screenDirection:-1},Z=Object(S.a)("account-module")(Y,{devtools:{enabled:!1}}).extendActions((function(e,t){return{toggleOpened:function(){return e.opened(!t.opened())},reset:function(){var t=Y.opened,n=Y.promptedAction,r=Y.selectedConnector,o=Y.currentScreen,a=Y.screenDirection;e.opened(t),e.promptedAction(n),e.selectedConnector(r),e.currentScreen(o),e.screenDirection(a)},goToScreen:function(n){var r=t.currentScreen()>n?-1:1;e.currentScreen(n),e.screenDirection(r)}}})).extendActions((function(e){return{goToInitialScreen:function(){e.reset(),e.opened(!0)}}})),z=Z.useStore,X=Z.set,q=function(e){var t=e.content,n=e.hasPopover,a=void 0!==n&&n,i=e.icon,c=e.onClick,s=Object(r.useViewport)().above,d=Object(r.useTheme)();return Object(b.jsx)(ee,{onClick:c,children:Object(b.jsx)(te,{children:Object(b.jsxs)(b.Fragment,{children:[i,s("medium")&&Object(b.jsxs)(o.Fragment,{children:[Object(b.jsx)("div",{style:{paddingLeft:"".concat(1*r.GU,"px"),paddingRight:"".concat(.5*r.GU,"px")},children:t}),a&&Object(b.jsx)(r.IconDown,{size:"small",color:d.surfaceIcon})]})]})})})},$=function(e){var t,n=e.onClick,o=Object(r.useTheme)(),a=Object(u.b)({fetchEns:!0}),i=Object(v.a)(a,1)[0].data,c=Object(u.d)(),s=Object(v.a)(c,1)[0].data,d=i||{},l=d.address,A=d.ens;return Object(b.jsx)(q,{hasPopover:!0,onClick:n,icon:Object(b.jsxs)("div",{style:{position:"relative"},children:[Object(b.jsx)(r.EthIdenticon,{address:l,radius:r.RADIUS}),Object(b.jsx)(ne,{})]}),content:Object(b.jsxs)(b.Fragment,{children:[!!l&&Object(b.jsx)(re,{children:Object(b.jsx)(oe,{children:(null===A||void 0===A?void 0:A.name)||Object(r.shortenAddress)(null!==l&&void 0!==l?l:"")})}),Object(b.jsxs)("div",{style:{fontSize:"11px",color:o.positive},children:["Connected to ",null===(t=s.chain)||void 0===t?void 0:t.name]})]})})},ee=Object(h.default)(r.ButtonBase)(U||(U=Object(O.a)(["\n  height: 100%;\n  padding: ","px;\n  ",";\n"])),.2*r.GU,(function(e){return void 0!==e.onClick?"&:active { background: ".concat(e.theme.surfacePressed,"; }"):"cursor: auto;"})),te=h.default.div(R||(R=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  text-align: left;\n  padding: 0 ","px;\n"])),1*r.GU),ne=h.default.div(I||(I=Object(O.a)(["\n  position: absolute;\n  bottom: -3px;\n  right: -3px;\n  width: 10px;\n  height: 10px;\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 50%;\n"])),(function(e){return e.theme.positive}),(function(e){return e.theme.surface})),re=h.default.div(B||(B=Object(O.a)(["\n  margin-bottom: -5px;\n\n  ",";\n"])),Object(r.textStyle)("body2")),oe=h.default.div(D||(D=Object(O.a)(["\n  overflow: hidden;\n  max-width: ","px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"])),16*r.GU),ae=n(192),ie=function(e){var t=e.children,n=e.direction,a=e.onClose,i=e.opener,c=e.screenId,s=e.visible,d=e.width,u=Object(o.useState)(30*r.GU),l=Object(v.a)(u,2),A=l[0],f=l[1],p=Object(o.useRef)(),m=Object(ae.useTransition)(c,{config:r.springs.smooth,keys:c,from:{opacity:0,transform:"translate3d(".concat(10*r.GU*n,"px, 0, 0)")},enter:{opacity:1,transform:"translate3d(0, 0, 0)"}});return Object(o.useEffect)((function(){p.current&&p.current.focus()}),[c]),Object(b.jsx)(se,{closeOnOpenerFocus:!0,onClose:a,opener:i,placement:"bottom-end",visible:s,width:d,children:Object(b.jsx)(ce,{children:Object(b.jsx)(ae.Spring,{config:r.springs.smooth,from:{height:33*r.GU},to:{height:A},children:function(e){var n=e.height;return Object(b.jsx)(ae.a.div,{ref:p,tabIndex:0,style:{height:n,position:"relative",flexGrow:1,width:"100%",overflow:"hidden",outline:0},children:m((function(e){var n=e.opacity,r=e.transform;return Object(b.jsx)(ae.a.div,{ref:function(e){e&&f(e.clientHeight)},style:{opacity:n,transform:r,position:"absolute",top:0,left:0,right:0},children:t})}))})}})})})},ce=h.default.section(T||(T=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),se=Object(h.default)(r.Popover)(G||(G=Object(O.a)(["\n  margin-top: 3px;\n  width: ",";\n"])),(function(e){return"".concat(e.width,"px")})),de=n.p+"static/media/loading-ring.ae5c4b38.svg",ue=Object(h.keyframes)(L||(L=Object(O.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),le=h.default.div(F||(F=Object(O.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: url(",") no-repeat 0 0;\n  animation-duration: 1s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n  animation-name: ",";\n  // prevents flickering on Firefox\n  backface-visibility: hidden;\n"])),de,ue),Ae=h.default.section(P||(P=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: ","px;\n  height: 100%;\n"])),2*r.GU),fe=h.default.div(N||(N=Object(O.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n"]))),pe=h.default.div(Q||(Q=Object(O.a)(["\n  position: relative;\n  width: ","px;\n  height: ","px;\n"])),10.5*r.GU,10.5*r.GU),be=h.default.div(M||(M=Object(O.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: 50% 50% / auto ","px no-repeat url(",");\n"])),5*r.GU,(function(e){return e.src})),me=h.default.h1(W||(W=Object(O.a)(["\n  padding-top: ","px;\n  font-weight: 600;\n  ",";\n"])),2*r.GU,Object(r.textStyle)("body1")),je=h.default.p(_||(_=Object(O.a)(["\n  width: ","px;\n  margin-top: ","px;\n  color: ",";\n"])),36*r.GU,1*r.GU,(function(e){return e.theme.surfaceContentSecondary})),ge=n(366);var xe,he,Oe,ve,ye,ke,we,Ee,Ce,Se,Ue,Re,Ie,Be,De=h.default.h4(V||(V=Object(O.a)(["\n  color: ",";\n  margin-bottom: ","px, ",";\n  ",";\n"])),(function(e){return e.theme.contentSecondary}),2*r.GU,Object(r.textStyle)("label2"),Object(r.textStyle)("label2")),Te=h.default.img(J||(J=Object(O.a)(["\n  ",";\n  margin-right: ","px;\n  transform: translateY(-2px);\n"])),(function(e){var t=e.size;return t&&"width: ".concat(t,"px; height: ").concat(t,"px;")}),.5*r.GU),Ge=Object(h.default)(r.ButtonBase)(K||(K=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-self: flex-end;\n  padding: ","px;\n  &:active {\n    background: ",";\n  }\n"])),.5*r.GU,(function(e){return e.theme.surfacePressed})),Le=h.default.div(H||(H=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  ",";\n"])),(function(e){return e.theme.positive}),Object(r.textStyle)("label2")),Fe=h.default.section(xe||(xe=Object(O.a)(["\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: ","px;\n  height: 100%;\n  text-align: center;\n"])),2*r.GU),Pe=h.default.div(he||(he=Object(O.a)(["\n  position: relative;\n  width: ","px;\n  height: ","px;\n"])),10.5*r.GU,10.5*r.GU),Ne=h.default.div(Oe||(Oe=Object(O.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: 50% 50% / auto ","px no-repeat url(",");\n"])),5*r.GU,(function(e){return e.src})),Qe=h.default.h1(ve||(ve=Object(O.a)(["\n  padding-top: ","px;\n  font-weight: 600;\n  ",";\n"])),2*r.GU,Object(r.textStyle)("body1")),Me=n.p+"static/media/ethereum.df265e36.svg",We=n.p+"static/media/gnosis-chain.965f5bed.svg",_e=function(e){switch(e){case 1:case 3:case 4:case 5:case 42:return Me;case 100:return We;case 137:case 80001:return"data:image/jpeg;base64,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"}},Ve=h.default.section(ye||(ye=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: ","px;\n  padding-top: ","px;\n  height: 100%;\n"])),2*r.GU,1*r.GU),Je=h.default.div(ke||(ke=Object(O.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n"]))),Ke=h.default.h1(we||(we=Object(O.a)(["\n  font-weight: 600;\n  ",";\n"])),Object(r.textStyle)("body1")),He=h.default.div(Ee||(Ee=Object(O.a)(["\n  flex-grow: 0;\n  margin-top: ","px;\n  width: 100%;\n"])),1*r.GU);function Ye(e){var t=e.icon,n=e.name,o=e.ready,a=void 0===o||o,i=e.onClick;return Object(b.jsx)(rt,{onClick:i,disabled:!a,ready:a,children:n&&Object(b.jsxs)(b.Fragment,{children:[t&&Object(b.jsx)("img",{style:{height:"".concat(5.25*r.GU,"px")},src:t,alt:""}),Object(b.jsx)(ot,{children:n}),!a&&Object(b.jsx)(at,{children:"(Unsupported)"})]})})}var Ze,ze,Xe,qe,$e,et=h.default.h4(Ce||(Ce=Object(O.a)(["\n  padding-top: ","px;\n  padding-left: ","px;\n  color: ",";\n  margin-bottom: ","px;\n  ",";\n"])),2*r.GU,2*r.GU,(function(e){return e.theme.contentSecondary}),2*r.GU,Object(r.textStyle)("label2")),tt=h.default.div(Se||(Se=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  padding: ","px;\n"])),2*r.GU),nt=h.default.div(Ue||(Ue=Object(O.a)(["\n  display: grid;\n  grid-gap: ","px;\n  grid-auto-flow: row;\n  grid-template-columns: repeat(2, 1fr);\n"])),1.5*r.GU),rt=Object(h.default)(r.ButtonBase)(Re||(Re=Object(O.a)(["\n  position: relative;\n  opacity: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: ","px;\n  background: ",";\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15);\n  border-radius: ","px;\n  &:active {\n    top: 1px;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);\n  }\n"])),(function(e){return e.ready?1:.6}),12*r.GU,(function(e){return e.surface}),r.RADIUS),ot=h.default.div(Ie||(Ie=Object(O.a)(["\n  margin-top: ","px;\n  ",";\n"])),1*r.GU,Object(r.textStyle)("body1")),at=h.default.div(Be||(Be=Object(O.a)(["\n  margin-top: ","px;\n  ",";\n"])),-.5*r.GU,Object(r.textStyle)("body4")),it=[function(e){var t=e.onConnect,n=Object(u.c)(),r=Object(v.a)(n,1)[0].data;return Object(b.jsxs)("div",{children:[Object(b.jsx)(et,{children:"Ethereum Wallets"}),Object(b.jsx)(tt,{children:Object(b.jsx)(nt,{children:r.connectors.map((function(e){return Object(b.jsx)(Ye,{icon:E(e.id),name:e.name,ready:e.ready,onClick:function(){return t(e)}},e.id)}))})})]})},function(){var e=Object(r.useTheme)(),t=z().selectedConnector;if(!t)return null;var n=E(t.id);return Object(b.jsxs)(Fe,{children:[Object(b.jsxs)(Pe,{children:[Object(b.jsx)(le,{}),n&&Object(b.jsx)(Ne,{src:n})]}),Object(b.jsxs)(Qe,{children:["Connecting to ",t.name]}),Object(b.jsxs)("p",{style:{width:"".concat(36*r.GU,"px"),color:e.surfaceContentSecondary},children:["Log into ",t.name||"Unknown",". You may be temporarily redirected to a new screen."]})]})},function(e){var t=e.onSwitchNetwork,n=e.onBack,a=Object(r.useTheme)(),i=Object(u.d)(),c=Object(v.a)(i,2),s=c[0],l=s.data,A=s.error,f=c[1],p=Object(u.c)(),m=Object(v.a)(p,1)[0].error,j=Object(u.b)(),g=Object(v.a)(j,1)[0].error,x=C(A,l)||m||g,h=Object(o.useMemo)((function(){var e;return x instanceof d.k||null!==(e=l.chain)&&void 0!==e&&e.unsupported?["Wrong network",Object(b.jsxs)("span",{children:["Please select one of these networks:"," ",l.chains.map((function(e,n,o){return f?Object(b.jsxs)("span",{children:[Object(b.jsxs)(r.Link,{onClick:function(){t(function(e){return{title:"Connecting to ".concat(e.name," network"),subtitle:"Creating and/or switching to the ".concat(e.name," network (id: ").concat(e.id,") in your wallet. You may be temporarily redirected to a new screen."),image:_e(e.id)}}(e),e)},children:[e.name,n<o.length-1?",":""]}),n<o.length-1?" ":""]},e.id):Object(b.jsxs)("span",{children:[e.name,n<o.length-1?", ":""]},e.id)}))]},"")]:["Failed to enable your account","You can try another Ethereum wallet."]}),[x,l,t,f]),O=Object(v.a)(h,2),y=O[0],k=O[1];return Object(b.jsxs)(Ve,{children:[Object(b.jsxs)(Je,{children:[Object(b.jsx)("div",{style:{marginBottom:-2*r.GU},children:Object(b.jsx)(r.IconError,{style:{width:"130px",height:"130px"},color:a.negative})}),Object(b.jsx)(Ke,{children:y}),Object(b.jsx)("p",{style:{width:36*r.GU,color:a.surfaceContentSecondary},children:k})]}),Object(b.jsx)(He,{children:Object(b.jsx)(r.Button,{onClick:n,wide:!0,children:"Go back"})})]})},function(){var e=z().promptedAction;if(!e)return null;var t=e.title,n=e.subtitle,r=e.image;return Object(b.jsx)(Ae,{children:Object(b.jsxs)(fe,{children:[Object(b.jsxs)(pe,{children:[Object(b.jsx)(le,{}),r&&Object(b.jsx)(be,{src:r})]}),Object(b.jsx)(me,{children:t}),Object(b.jsx)(je,{children:n})]})})},function(e){var t=e.onBack,n=Object(r.useTheme)(),a=function(){var e=Object(r.useToast)();return Object(o.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Copied";Object(ge.a)(t),n&&e(n)}),[e])}(),i=Object(u.d)(),c=Object(v.a)(i,1)[0].data,s=Object(u.b)(),d=Object(v.a)(s,1)[0].data,l=c.chain,A=null===d||void 0===d?void 0:d.connector,f=null===d||void 0===d?void 0:d.address;Object(o.useEffect)((function(){var e;(null!==(e=c.chain)&&void 0!==e&&e.unsupported||!f)&&X.goToScreen(j.Error)}),[c.chain,f]);var p=Object(o.useCallback)((function(){return a(f)}),[f,a]);return Object(b.jsxs)("div",{style:{padding:2*r.GU},children:[Object(b.jsx)(De,{children:"Active Wallet"}),Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[Object(b.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",marginRight:3*r.GU},children:[Object(b.jsx)(Te,{src:E(null===A||void 0===A?void 0:A.id),alt:"",size:3*r.GU}),Object(b.jsx)("span",{children:"unknown"===(null===A||void 0===A?void 0:A.id)?"Wallet":null===A||void 0===A?void 0:A.name})]}),Object(b.jsx)("div",{style:{width:"100%"},children:Object(b.jsxs)(Ge,{onClick:p,focusRingRadius:r.RADIUS,children:[Object(b.jsx)(r.IdentityBadge,{entity:f,compact:!0,badgeOnly:!0,style:{cursor:"pointer"}}),Object(b.jsx)(r.IconCopy,{style:{verticalAlign:"middle"},color:n.hint})]})})]}),Object(b.jsx)("div",{style:{padding:"".concat(2*r.GU,"px 0")},children:Object(b.jsxs)(Le,{children:[Object(b.jsx)(r.IconCheck,{size:"small"}),Object(b.jsx)("span",{style:{marginLeft:.5*r.GU},children:"Connected to ".concat(l?l.name:"Unknown"," Network")})]})}),Object(b.jsx)(r.Button,{onClick:t,wide:!0,style:{marginTop:1*r.GU},children:"Disconnect wallet"})]})}],ct=j.Connecting,st=j.Error,dt=j.Action,ut=j.Connected,lt=function(e){var t=e.compact,n=Object(o.useRef)(),a=Object(o.useRef)(),i=Object(u.b)(),c=Object(v.a)(i,2),s=c[0],d=s.data,l=s.error,A=c[1],f=Object(u.c)(),p=Object(v.a)(f,2),m=p[0].error,j=p[1],g=Object(u.d)(),x=Object(v.a)(g,2),h=x[0],O=h.data,y=h.error,k=x[1],w=Object(o.useState)(!1),E=Object(v.a)(w,2),S=E[0],U=E[1],R=C(y,O)||l||m,I=z(),B=I.currentScreen,D=I.opened,T=I.screenDirection,G=B===ut&&!R&&(null===d||void 0===d?void 0:d.address),L=it[B];return Object(o.useEffect)((function(){return function(){a.current&&clearTimeout(a.current)}}),[]),Object(o.useEffect)((function(){var e;!S||null!==(e=O.chain)&&void 0!==e&&e.unsupported||(X.goToScreen(ut),X.promptedAction(null),U(!1))}),[S,O.chain]),Object(b.jsxs)(At,{ref:n,children:[G?Object(b.jsx)($,{onClick:X.toggleOpened}):Object(b.jsx)(r.Button,{icon:Object(b.jsx)(r.IconConnect,{}),label:"Connect account",onClick:X.toggleOpened,display:t?"icon":"all"}),Object(b.jsx)(ie,{direction:T,onClose:function(){if(B===ct||B===st||B===dt)return!1;X.opened(!1)},opener:n.current,screenId:B,visible:D,width:(B===ut?41:51)*r.GU,children:Object(b.jsx)(L,{onConnect:function(e){X.selectedConnector(e),X.goToScreen(ct),a.current=setTimeout((function(){j(e).then((function(e){var t,n=e.data,r=e.error;null!==n&&void 0!==n&&null!==(t=n.chain)&&void 0!==t&&t.unsupported||r?X.goToScreen(st):X.goToScreen(ut)}))}),500)},onSwitchNetwork:function(e,t){k&&(X.promptedAction(e),X.goToScreen(dt),k(t.id).then((function(e){var t=e.data,n=e.error;t?U(!0):(console.error(n),X.goToInitialScreen(),X.promptedAction(null))})).catch((function(e){return console.error(e)})))},onBack:function(){X.goToInitialScreen(),A()}})})]})},At=h.default.div(Ze||(Ze=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  outline: 0;\n"]))),ft=n.p+"static/media/animated-logo.645dd8af.gif",pt=function(){return Object(b.jsxs)(bt,{children:[Object(b.jsxs)(mt,{children:[Object(b.jsx)("img",{src:ft,alt:"logo",width:"100"}),"Superfluid Vortex"]}),Object(b.jsx)(lt,{compact:!1})]})},bt=h.default.div(ze||(ze=Object(O.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: ","px;\n  max-width: 1200px;\n  margin: auto;\n"])),2*r.GU),mt=h.default.div(Xe||(Xe=Object(O.a)(["\n  ",";\n  display: flex;\n  align-items: center;\n"])),Object(r.textStyle)("title2")),jt=n(373),gt=n(13),xt=n(0),ht=n.n(xt),Ot=n(282),vt=n(367);!function(e){e.Address="address",e.String="string",e.Bool="bool",e.Bytes="bytes",e.Uint="uint"}(qe||(qe={})),function(e){e.Call="call",e.Token="token",e.Flow="flow",e.Index="index",e.Distribute="distribute",e.Subscription="subscription",e.Claim="claim",e.PreApprove="pre-approve",e.Approve="approve",e.TransferFrom="transfer-from",e.Upgrade="upgrade",e.Downgrade="downgrade",e.Revoke="revoke",e.Create="create",e.Update="update",e.Delete="delete"}($e||($e={}));var yt,kt,wt,Et,Ct,St=(yt="".concat("[a-zA-Z]").concat("[\\-:a-zA-Z0-9]","*"),"\\b".concat(yt,"\\b")),Ut=Object.values($e),Rt={comments:{lineComment:["//","#"]},brackets:[["{","}"],["[","]"],["(",")"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"'",close:"'"},{open:"'''",close:"'''"}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"'",close:"'",notIn:["string","comment"]},{open:"'''",close:"'''",notIn:["string","comment"]}],autoCloseBefore:":.,=}])' \n\t",indentationRules:{increaseIndentPattern:new RegExp("^((?!\\/\\/).)*(\\{[^}\"'`]*|\\([^)\"'`]*|\\[[^\\]\"'`]*)$"),decreaseIndentPattern:new RegExp("^((?!.*?\\/\\*).*\\*/)?\\s*[\\}\\]].*$")}},It={defaultToken:"",tokenPostfix:".vortex",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:Ut,namedLiterals:["true","false"],escapes:"\\\\(u{[0-9A-Fa-f]+}|n|r|t|\\\\|'|\\${)",tokenizer:{root:[{include:"@expression"},{include:"@whitespace"}],stringVerbatim:[{regex:"(|'|'')[^']",action:{token:"string"}},{regex:"'''",action:{token:"string.quote",next:"@pop"}}],stringLiteral:[{regex:"\\${",action:{token:"delimiter.bracket",next:"@bracketCounting"}},{regex:"[^\\\\'$]+",action:{token:"string"}},{regex:"@escapes",action:{token:"string.escape"}},{regex:"\\\\.",action:{token:"string.escape.invalid"}},{regex:"'",action:{token:"string",next:"@pop"}}],bracketCounting:[{regex:"{",action:{token:"delimiter.bracket",next:"@bracketCounting"}},{regex:"}",action:{token:"delimiter.bracket",next:"@pop"}},{include:"expression"}],comment:[],whitespace:[{regex:"[ \\t\\r\\n]"},{regex:"\\/\\/.*$",action:{token:"comment"}},{regex:"#.*$",action:{token:"comment"}}],expression:[{regex:"'''",action:{token:"string.quote",next:"@stringVerbatim"}},{regex:"'",action:{token:"string.quote",next:"@stringLiteral"}},{regex:"0x([0-9a-fA-F]+)|([0-9]+(e[0-9]+)?(mo|[s|m|h|d|w|mo|y])?(/mo|[s|m|h|d|w|mo|y])?)",action:{token:"number"}},{regex:St,action:{cases:{"@keywords":{token:"keyword"},"@namedLiterals":{token:"keyword"},"@default":{token:"identifier"}}}}]}},Bt={id:"vortex",extensions:[".vortex"],aliases:[]},Dt=function(e){var t=e.color,n=void 0===t?"#fff":t;return Object(b.jsxs)(Tt,{color:n,children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})},Tt=h.default.div(kt||(kt=Object(O.a)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n\n  & > div {\n    position: absolute;\n    border: 4px solid ",";\n    opacity: 1;\n    border-radius: 50%;\n    animation: lds-ripple 2s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n  }\n  & div:nth-child(2) {\n    animation-delay: -0.5s;\n  }\n\n  @keyframes lds-ripple {\n    0% {\n      top: 36px;\n      left: 36px;\n      width: 0;\n      height: 0;\n      opacity: 0;\n    }\n    4.9% {\n      top: 36px;\n      left: 36px;\n      width: 0;\n      height: 0;\n      opacity: 0;\n    }\n    5% {\n      top: 36px;\n      left: 36px;\n      width: 0;\n      height: 0;\n      opacity: 1;\n    }\n    100% {\n      top: 0px;\n      left: 0px;\n      width: 72px;\n      height: 72px;\n      opacity: 0;\n    }\n  }\n"])),(function(e){return e.color})),Gt=function(e){var t=e.color;return Object(b.jsxs)(Lt,{children:[Object(b.jsx)(Dt,{color:t}),"Loading..."]})},Lt=h.default.div(wt||(wt=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Ft=$e.Call,Pt=$e.Claim,Nt=$e.Distribute,Qt=$e.Flow,Mt=$e.Index,Wt=$e.Subscription,_t=$e.Token,Vt=$e.Approve,Jt=$e.TransferFrom,Kt=$e.Upgrade,Ht=$e.Downgrade,Yt=$e.Create,Zt=$e.Update,zt=$e.Delete,Xt=$e.Revoke,qt=qe.Address,$t=qe.Bytes,en=qe.Uint,tn={name:"receiver",type:qt},nn={name:"indexId",type:en},rn={name:"subscriber",type:qt},on={name:"publisher",type:qt},an={name:"token",type:qt},cn={name:"amount",type:en},sn={name:"userData",type:qe.String,default:"0x"},dn=[{name:Ft,params:[{name:"superApp",type:qt},{name:"calldata",type:$t}]},{name:Pt,params:[an,nn,rn,on]},{name:Nt,params:[an,nn,cn,sn]},{name:_t,subCommands:[{name:Vt,params:[an,{name:"spender",type:qt},cn]},{name:Jt,params:[an,{name:"sender",type:qt},{name:"recipient",type:qt},cn]},{name:Kt,params:[an,cn]},{name:Ht,params:[an,cn]}]},{name:Qt,subCommands:[{name:Yt,params:[an,tn,{name:"flowRate",type:en},sn]},{name:Zt,params:[an,tn,{name:"flowRate",type:en},sn]},{name:zt,params:[an,{name:"sender",type:qt},tn,sn]}]},{name:Mt,subCommands:[{name:Yt,params:[an,nn,sn]},{name:Zt,params:[an,nn,{name:"indexValue",type:qe.String},sn]}]},{name:Wt,subCommands:[{name:Vt,params:[an,nn,on,{name:"units",type:en},sn]},{name:Zt,params:[an,nn,rn,{name:"units",type:en},sn]},{name:Xt,params:[an,nn,on,sn]},{name:zt,params:[an,nn,rn,on,sn]}]}],un=(Object.values($e),n(371)),ln=Object(o.createContext)({sf:null,allSuperTokens:[]}),An=new Map,fn=function(e){var t,n=e.children,r=Object(u.e)(),a=Object(v.a)(r,1)[0].data,i=Object(u.d)(),c=null===(t=Object(v.a)(i,1)[0].data.chain)||void 0===t?void 0:t.id,s=Object(o.useState)(null),d=Object(v.a)(s,2),l=d[0],A=d[1],f=Object(o.useState)([]),p=Object(v.a)(f,2),m=p[0],j=p[1],g=Object(o.useRef)();return Object(o.useEffect)((function(){a&&c&&(a!==g.current&&An.clear(),Object(gt.a)(ht.a.mark((function e(){var t,n,r;return ht.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(An.has(c)){e.next=7;break}return e.t0=An,e.t1=c,e.next=5,un.a.create({chainId:c,provider:a});case 5:e.t2=e.sent,e.t0.set.call(e.t0,e.t1,e.t2);case 7:return e.prev=7,e.next=10,An.get(c).query.listAllSuperTokens({});case 10:if(e.t5=r=e.sent,e.t4=null===e.t5,e.t4){e.next=14;break}e.t4=void 0===r;case 14:if(!e.t4){e.next=18;break}e.t6=void 0,e.next=19;break;case 18:e.t6=r.data;case 19:if(e.t7=n=e.t6,e.t3=null!==e.t7,!e.t3){e.next=23;break}e.t3=void 0!==n;case 23:if(!e.t3){e.next=27;break}e.t8=n,e.next=28;break;case 27:e.t8=[];case 28:t=e.t8,e.next=35;break;case 31:e.prev=31,e.t9=e.catch(7),console.error("Error when fetching Super Tokens ".concat(e.t9)),t=[];case 35:j(t),A(An.get(c));case 37:case"end":return e.stop()}}),e,null,[[7,31]])})))(),g.current=a)}),[a,c]),Object(b.jsx)(ln.Provider,{value:{sf:l,allSuperTokens:m},children:n})},pn=function(){var e=Object(o.useContext)(ln);if(!e)throw new Error("Superfluid hook must be used inside a SuperfluidProvider");return e},bn=function(e,t,n,r){var o=r.tokenSymbols;if(!e.params||!e.params.length)return[];var a=e.params[t];return a&&a.type===qe.Address&&"token"===a.name?o.filter((function(e){return e.includes(n)})):[]},mn=function(e,t){var n,r=t.commands,o=e.split(" "),a=o.length,i=o[a-1];if(!a)return r.map((function(e){return e.name.toString()}));if(a>=1){var c=(n=o[0],dn.find((function(e){return e.name===n})));if(1===a&&!c)return r.filter((function(e){return e.name.includes(i)})).map((function(e){return e.name.toString()}));if(!c)return[];if(2===a)return c.subCommands?c.subCommands.filter((function(e){return e.name.includes(i)})).map((function(e){return e.name.toString()})):bn(c,a-1-1,i,t);var s=o[1],d=c.subCommands&&c.subCommands.find((function(e){return e.name===s}));if(!d)return[];if(a>2)return bn(d,a-1-2,i,t)}return[]},jn=function(e){var t=e.code,n=e.onChange,r=e.onEditorMounting,a=pn().allSuperTokens,i=Object(Ot.b)(),c=Object(o.useMemo)((function(){return function(e){var t="token:";return e.reduce((function(e,n){var r=n.symbol.substring(0,n.symbol.length-1);return e.push("".concat(t).concat(n.symbol)),e.push("".concat(t).concat(r)),e}),[])}(a)}),[a]);return Object(o.useEffect)((function(){if(i){var e=i.languages.registerCompletionItemProvider("vortex",{triggerCharacters:[":"],provideCompletionItems:function(e,t){var n=e.getLineContent(t.lineNumber),r=e.getWordUntilPosition(t),o=r.startColumn,a=r.endColumn,i={startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:o,endColumn:a};return{suggestions:mn(n,{commands:dn,tokenSymbols:c}).map((function(e){return{label:e,range:i,insertText:e,kind:1}}))}}});return function(){e.dispose()}}}),[i,c]),Object(b.jsx)(Ot.a,{height:"50vh",theme:"theme",language:"vortex",loading:Object(b.jsx)(Gt,{}),value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(e||"")})),beforeMount:function(e){e.editor.defineTheme("theme",vt),e.languages.register(Bt),e.languages.setLanguageConfiguration("vortex",Rt),e.languages.setMonarchTokensProvider("vortex",It),r(!0)},onMount:function(e){e.setPosition({lineNumber:1e4,column:0}),e.focus(),r(!1)},options:{fontSize:22,fontFamily:"Ubuntu Mono",detectIndentation:!1,tabSize:2,language:"vortex",minimap:{enabled:!1},scrollbar:{useShadows:!1,verticalScrollbarSize:7,vertical:"hidden"}}})},gn=n(95),xn=n(8),hn=n(146),On=n(97),vn=n(37),yn=n(141),kn=n(115);!function(e){e.ERC20_APPROVE="ERC20_APPROVE",e.ERC20_TRANSFER_FROM="ERC20_TRANSFER_FROM",e.SUPERTOKEN_UPGRADE="SUPERTOKEN_UPGRADE",e.SUPERTOKEN_DOWNGRADE="SUPERTOKEN_DOWNGRADE",e.SUPERFLUID_CALL_AGREEMENT="SUPERFLUID_CALL_AGREEMENT",e.CALL_APP_ACTION="CALL_APP_ACTION"}(Et||(Et={})),function(e){e.CREATE_FLOW="createFlow",e.UPDATE_FLOW="updateFlow",e.DELETE_FLOW="deleteFlow",e.CREATE_INDEX="createIndex",e.UPDATE_INDEX="updateIndex",e.DISTRIBUTE="distribute",e.UPDATE_SUBSCRIPTION="updateSubscription",e.APPROVE_SUBSCRIPTION="approveSubscription",e.REVOKE_SUBSCRIPTION="revokeSubscription",e.DELETE_SUBSCRIPTION="deleteSubscription",e.CLAIM="claim"}(Ct||(Ct={}));var wn={s:1,m:60,h:3600,d:86400,w:604800,mo:2592e3,y:31536e3},En=function e(t,n,r){if(/\[\d*\]$/g.test(n)){if(!t.startsWith("["))throw new Error("Parameter ".concat(n," should be an array, ").concat(t," given."));return JSON.parse(t.replace(/\[(?!\[)/g,'["').replace(/(?<!\]),/g,'",').replace(/,(?!\[)/g,',"').replace(/(?<!\])\]/g,'"]')).map((function(t){return e(JSON.stringify(t),n.slice(0,n.lastIndexOf("[")),r)}))}return"address"===n?function(e,t){var n=t.entities;if(On.utils.isAddress(e))return e;if(e in n)return n[e];throw Error("Unrecognized address "+e)}(t,r):/^u?int(\d)*$/.test(n)?function(e){var t=String(e).match(/^(\d*(?:\.\d*)?)(?:e(\d+))?([s|m|h|d|w|mo|y]|mo)?(?:\/([s|m|h|d|w|mo|y]|mo))?$/),n=Object(v.a)(t,5),r=n[1],o=n[2],a=void 0===o?"0":o,i=n[3],c=void 0===i?"s":i,s=n[4],d=void 0===s?"s":s;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=String(e).split("."),r=Object(v.a)(n,2),o=r[0],a=r[1];return vn.a.from(("0"!==o?o:"")+(a||"").padEnd(t,"0")||"0")}(r,parseInt(a)).mul(wn[c]).div(wn[d]).toString()}(t):"bool"===n?function(e){if("true"===e)return!0;if("false"===e)return!1;throw new Error('Malformed boolean, it should be "true" or "false"')}(t):"bytes"===n?function(e){if(e.startsWith("0x"))return e;return On.utils.hexlify(On.utils.toUtf8Bytes(e))}(t):t},Cn=function(e,t){return new On.utils.Interface(["function ".concat(e," external")]).encodeFunctionData(e.split("(")[0],t)},Sn=function(e){return function(t,n,r){return Cn("callAgreement(address,bytes,bytes)",[e,Cn(t,n),r])}};function Un(e,t){var n=function(e,n){return e.map((function(e,r){return n[r]?En(e,n[r],t):e}))},r=[];return[e.split("\n").map((function(e){return e.split("#")[0].split("//")[0]})).map((function(e){return e.trim()})).filter((function(e){return!!e})).map((function(e){return e.replace(/"([^"]*)"/g,(function(e,t){return t.replace(/ /g,'"')})).split(" ").map((function(e){return e.replace(/"/g," ")}))})).filter((function(e){var t=Object(hn.a)(e),o=t[0],a=t[1],i=t.slice(2);if("token"===o&&"pre-approve"===a){var c=n(i,["address","address","uint256"]),s=Object(v.a)(c,3),d=s[0],u=s[1],l=s[2];return r.push({token:d,receiver:u,amount:l}),!1}return!0})).map((function(e){var r=Object(hn.a)(e),o=r[0],a=r.slice(1),i="0x",c=Sn(t.agreements.CFA),s=Sn(t.agreements.IDA);switch(o){case"token":var d=Object(hn.a)(a),u=d[0],l=d.slice(1);switch(u){case"approve":var A=n(l,["address","address","uint256"]),f=Object(v.a)(A,3),p=f[0],b=f[1],m=f[2];return{type:Et.ERC20_APPROVE,to:p,data:Cn("approve(address,uint256)",[b,m])};case"transfer-from":var j=n(l,["address","address","address","uint256"]),g=Object(v.a)(j,4),x=g[0],h=g[1],O=g[2],y=g[3];return{type:Et.ERC20_TRANSFER_FROM,to:x,data:Cn("transferFrom(address,address,uint256)",[h,O,y])};case"upgrade":var k=n(l,["address","uint256"]),w=Object(v.a)(k,2),E=w[0],C=w[1];return{type:Et.SUPERTOKEN_UPGRADE,to:E,data:Cn("upgrade(uint256)",[C])};case"downgrade":var S=n(l,["address","uint256"]),U=Object(v.a)(S,2),R=U[0],I=U[1];return{type:Et.SUPERTOKEN_DOWNGRADE,to:R,data:Cn("downgrade(uint256)",[I])};default:throw new Error("Unrecognized sub-command: ".concat(o," ").concat(u))}case"flow":var B=Object(hn.a)(a),D=B[0],T=B.slice(1);switch(D){case"create":var G=n(T,["address","address","int96","bytes"]),L=Object(v.a)(G,4),F=L[0],P=L[1],N=L[2],Q=L[3],M=void 0===Q?"0x":Q;return{type:Et.SUPERFLUID_CALL_AGREEMENT,to:t.host,data:c("createFlow(address,address,int96,bytes)",[F,P,N,i],M)};case"update":var W=n(T,["address","address","int96","bytes"]),_=Object(v.a)(W,4),V=_[0],J=_[1],K=_[2],H=_[3],Y=void 0===H?"0x":H;return{type:Et.SUPERFLUID_CALL_AGREEMENT,to:t.host,data:c("updateFlow(address,address,int96,bytes)",[V,J,K,i],Y)};case"delete":var Z=n(T,["address","address","address","bytes"]),z=Object(v.a)(Z,4),X=z[0],q=z[1],$=z[2],ee=z[3],te=void 0===ee?"0x":ee;return{type:Et.SUPERFLUID_CALL_AGREEMENT,to:t.host,data:c("deleteFlow(address,address,address,bytes)",[X,$,q,i],te)};default:throw new Error("Unrecognized sub-command: ".concat(o," ").concat(D))}case"index":var ne=Object(hn.a)(a),re=ne[0],oe=ne.slice(1);switch(re){case"create":var ae=n(oe,["address","uint32","bytes"]),ie=Object(v.a)(ae,3),ce=ie[0],se=ie[1],de=ie[2],ue=void 0===de?"0x":de;return{type:Et.SUPERFLUID_CALL_AGREEMENT,to:t.host,data:s("createIndex(address,uint32,bytes)",[ce,se,i],ue)};case"update":var le=n(oe,["address","uint32","uint128","bytes"]),Ae=Object(v.a)(le,4),fe=Ae[0],pe=Ae[1],be=Ae[2],me=Ae[3],je=void 0===me?"0x":me;return{type:Et.SUPERFLUID_CALL_AGREEMENT,to:t.agreements.IDA,data:s("updateIndex(address,uint32,uint128,bytes)",[fe,pe,be,i],je)};default:throw new Error("Unrecognized sub-command: ".concat(o," ").concat(re))}case"distribute":var ge=n(a,["address","uint32","uint256","bytes"]),xe=Object(v.a)(ge,4),he=xe[0],Oe=xe[1],ve=xe[2],ye=xe[3],ke=void 0===ye?"0x":ye;return{type:Et.SUPERFLUID_CALL_AGREEMENT,to:t.agreements.IDA,data:s("distribute(address,uint32,uint256,bytes)",[he,Oe,ve,i],ke)};case"subscription":var we=Object(hn.a)(a),Ee=we[0],Ce=we.slice(1);switch(Ee){case"approve":var Se=n(Ce,["address","uint32","address","bytes"]),Ue=Object(v.a)(Se,4),Re=Ue[0],Ie=Ue[1],Be=Ue[2],De=Ue[3],Te=void 0===De?"0x":De;return{type:Et.SUPERFLUID_CALL_AGREEMENT,to:t.agreements.IDA,data:s("approveSubscription(address,address,uint32,bytes)",[Re,Be,Ie,i],Te)};case"revoke":var Ge=n(Ce,["address","32","address","bytes"]),Le=Object(v.a)(Ge,4),Fe=Le[0],Pe=Le[1],Ne=Le[2],Qe=Le[3],Me=void 0===Qe?"0x":Qe;return{type:Et.SUPERFLUID_CALL_AGREEMENT,to:t.agreements.IDA,data:s("revokeSubscription(address,address,uint32,bytes)",[Fe,Ne,Pe,i],Me)};case"update":var We=n(Ce,["address","uint32","address","uint128","bytes"]),_e=Object(v.a)(We,5),Ve=_e[0],Je=_e[1],Ke=_e[2],He=_e[3],Ye=_e[4],Ze=void 0===Ye?"0x":Ye;return{type:Et.SUPERFLUID_CALL_AGREEMENT,to:t.agreements.IDA,data:s("updateSubscription(address,uint32,address,uint128,bytes)",[Ve,Je,Ke,He,i],Ze)};case"delete":var ze=n(Ce,["address","uint","address","address","bytes"]),Xe=Object(v.a)(ze,5),qe=Xe[0],$e=Xe[1],et=Xe[2],tt=Xe[3],nt=Xe[4],rt=void 0===nt?"0x":nt;return{type:Et.SUPERFLUID_CALL_AGREEMENT,to:t.agreements.IDA,data:s("deleteSubscription(address,address,uint32,address,bytes)",[qe,tt,$e,et,i],rt)};default:throw new Error("Unrecognized sub-command: ".concat(o," ").concat(Ee))}case"claim":var ot=n(a,["address","uint32","address","address","bytes"]),at=Object(v.a)(ot,5),it=at[0],ct=at[1],st=at[2],dt=at[3],ut=at[4],lt=void 0===ut?"0x":ut;return{type:Et.SUPERFLUID_CALL_AGREEMENT,to:t.agreements.IDA,data:s("claim(address,address,uint32,address,bytes)",[it,dt,ct,st,i],lt)};case"call":var At=n(a,["address"]),ft=Object(hn.a)(At),pt=ft[0],bt=ft[1],mt=ft.slice(2),jt=bt.split("(")[1].split(")")[0].split(",").map(En);return{type:Et.CALL_APP_ACTION,to:pt,data:Cn(bt,n(mt,jt))};default:throw new Error("Unrecognized command: "+o)}})).map((function(e){var t=e.to,n=e.data,r=e.type;return new kn.a(Promise.resolve({to:t,data:n,gasLimit:vn.a.from(4e7)}),r)})),r]}var Rn,In,Bn,Dn=function(){var e=Object(gt.a)(ht.a.mark((function e(t,n,r){return ht.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(r.map(function(){var e=Object(gt.a)(ht.a.mark((function e(t){var r,o,a;return ht.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.token,o=t.receiver,a=t.amount,e.next=3,new yn.b(r,["function approve(address,uint256) external"],n).approve(o,a,{gasLimit:1e5});case 3:return e.next=5,e.sent.wait();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Tn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return{exec:function(){var n=Object(gt.a)(ht.a.mark((function n(o){var a,i,c,s,d,u;return ht.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.query.listAllSuperTokens({}).then((function(t){return t.data.reduce((function(e,t){var n;return Object(xn.a)(Object(xn.a)({},e),{},(n={},Object(gn.a)(n,"token:".concat(t.symbol),t.id),Object(gn.a)(n,"token:".concat(t.symbol.slice(0,-1)),t.underlyingAddress),n))}),{"agreement:CFA":e.settings.config.cfaV1Address,"agreement:IDA":e.settings.config.idaV1Address,"superfluid:host":e.settings.config.hostAddress})}));case 2:return n.t0=n.sent,n.t1={CFA:e.settings.config.cfaV1Address,IDA:e.settings.config.idaV1Address},n.t2=e.settings.config.hostAddress,a={entities:n.t0,agreements:n.t1,host:n.t2},console.log("Loading config",a),i=t[0]+r.map((function(e,n){return e+t[n+1]})).join(""),c=Un(i,a),s=Object(v.a)(c,2),d=s[0],u=s[1],n.next=11,Dn(e,o,u);case 11:return n.next=13,e.batchCall(d).exec(o);case 13:return n.abrupt("return",n.sent.wait());case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}}var Gn=function(){var e=Object(o.useState)(!0),t=Object(v.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(!1),c=Object(v.a)(i,2),s=c[0],d=c[1],l=Object(o.useState)("token pre-approve token:fDAI token:fDAIx 100e18 // approve token upgrade\ntoken upgrade token:fDAIx 100e18 // upgrade 100 DAI to DAIx\nflow create token:fDAIx 0x40aD5B5b40066432c7A9c876e2C78B4a7564f0dB 1e18/mo // transfer 1 DAIx/month\n"),A=Object(v.a)(l,2),f=A[0],p=A[1],m=pn().sf,j=Object(u.e)(),g=Object(v.a)(j,1)[0].data,x=function(){var e=Object(gt.a)(ht.a.mark((function e(){var t;return ht.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m||!g){e.next=13;break}return d(!0),e.prev=2,e.next=5,Tn(m)(Rn||(Rn=Object(O.a)(["\n          ","\n        "])),f).exec(g);case 5:t=e.sent,alert("Transaction success: "+t.transactionHash),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0.message);case 12:d(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(Ln,{children:[Object(b.jsxs)(Fn,{children:[Object(b.jsx)(jn,{onEditorMounting:a,code:f,onChange:p}),!n&&Object(b.jsx)(r.Button,{wide:!0,mode:"positive",label:s?"Signing transactions\u2026":"Execute",onClick:x,disabled:!m||s})]}),!n&&Object(b.jsx)(Fn,{children:Object(b.jsxs)("details",{style:{width:"100%"},children:[Object(b.jsx)("summary",{children:"How to use it?"}),Object(b.jsx)("pre",{style:{textAlign:"center"},children:"Vortex Cheat Sheet\n=================="}),Object(b.jsx)("pre",{children:'\n            Commands\n            --------\n\n            token approve <token> <spender> <amount>\n            token transfer-from <token> <sender> <recipient> <amount>\n            token upgrade <token> <amount>\n            token downgrade <token> <amount>\n\n            flow create <token> <receiver> <flow-rate> [user-data]\n            flow update <token> <receiver> <flow-rate> [user-data]\n            flow delete <token> <sender> <receiver> [user-data]\n\n            index create <token> <index-id> [user-data]\n            index update <token> <index-id> <index-value> [user-data]\n\n            distribute <token> <index-id> <amount> [user-data]\n\n            subscription approve <token> <index-id> <publisher> [user-data]\n            subscription update <token> <index-id> <subscriber> <units> [user-data]\n            subscription revoke <token> <index-id> <publisher> [user-data]\n            subscription delete <token> <index-id> <subscriber> <publisher> [user-data]\n\n            claim <token> <index-id> <subscriber> <publisher> [user-data]\n\n            call <superapp> <method-signature> [...params]\n\n\n            Helpers\n            -------\n\n            Numbers:\n\n            - e18: Adds 18 decimals to a number, usually token amounts (and it works for other numbers, not just 18)\n            - s, m, h, w, mo, y: Time units for second, minute, hour, week, month, and year respectively\n            - You can combine them, for example "3w" means 3 weeks, and "1000e18/mo" means 1000 tokens per month\n\n            Addresses:\n\n            - token:<SYM>: Converts the label to the token address of the network we are connected to\n            '})]})})]})},Ln=h.default.div(In||(In=Object(O.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: ","px;\n"])),3*r.GU),Fn=h.default.div(Bn||(Bn=Object(O.a)(["\n  max-width: 1200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: ","px;\n  width: 100%\n"])),2*r.GU),Pn=function(){return Object(b.jsx)("div",{children:Object(b.jsx)(jt.a,{path:"/",children:Object(b.jsx)(Gn,{})})})};var Nn=function(){var e=Object(r.useTheme)();return Object(b.jsx)(h.ThemeProvider,{theme:e,children:Object(b.jsxs)("div",{children:[Object(b.jsx)(pt,{}),Object(b.jsx)(Pn,{})]})})};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(x,{children:Object(b.jsx)(fn,{children:Object(b.jsx)(r.Main,{assetsUrl:"/aragon-ui/",layout:!1,scrollView:!0,theme:"dark",children:Object(b.jsx)(Nn,{})})})})}),document.getElementById("root"))}},[[632,1,2]]]);
//# sourceMappingURL=main.56bda670.chunk.js.map