{"version":3,"sources":["providers/Wagmi.tsx","components/AccountModule/use-account-module-store.ts","components/AccountModule/assets/metamask.svg","components/AccountModule/assets/walletconnect.svg","components/AccountModule/helpers.ts","components/AccountModule/AccountButton.tsx","components/AccountModule/HeaderPopover.tsx","components/AccountModule/assets/loading-ring.svg","components/AccountModule/LoadingRing.tsx","components/AccountModule/screens/ScreenPromptedAction.tsx","components/AccountModule/screens/ScreenConnected.tsx","components/AccountModule/screens/ScreenConnecting.tsx","assets/ethereum.svg","assets/gnosis-chain.svg","utils/icons.ts","assets/polygon.jpg","components/AccountModule/screens/ScreenError.tsx","components/AccountModule/screens/ScreenWallets.tsx","vortex/types.ts","components/AccountModule/index.tsx","hooks/useCopyToClipboard.ts","assets/animated-logo.gif","components/TopBar.tsx","vortex/vortex.ts","vortex.ts","components/Loading.tsx","vortex/commands/commands.ts","vortex/commands/helpers.ts","providers/Superfluid.tsx","components/VortexEditor.tsx","routes/Terminal.tsx","routes/Routes.tsx","App.tsx","index.tsx"],"names":["CHAIN_WHITELIST","window","Buffer","ScreenType","getProvider","chainId","includes","InfuraProvider","process","ethers","getDefaultProvider","Wagmi","children","connectors","useMemo","chains","allChains","filter","chain","id","InjectedConnector","options","shimDisconnect","WalletConnectConnector","infuraId","qrcode","getConnectors","provider","chainNotConfiguredError","ChainNotConfiguredError","getWalletIconPath","metamask","walletconnect","getNetworkError","networkError","networkData","unsupported","initialState","opened","promptedAction","selectedConnector","currentScreen","Wallets","screenDirection","accountModuleStore","createStore","devtools","enabled","extendActions","set","get","toggleOpened","reset","goToScreen","screen","goToInitialScreen","useAccounModuleStore","useStore","actions","AccountButtonWrapper","content","hasPopover","icon","onClick","above","useViewport","theme","useTheme","AccountButtonBase","InnerContainer","style","paddingLeft","GU","paddingRight","size","color","surfaceIcon","AccountButton","useAccount","fetchEns","accountData","data","useNetwork","address","ens","position","radius","RADIUS","ConnectedCircle","LabelWrapper","LabelInnerWrapper","name","shortenAddress","fontSize","positive","styled","ButtonBase","props","undefined","surfacePressed","div","surface","textStyle","HeaderPopover","direction","onClose","opener","screenId","visible","width","useState","height","setHeight","popoverFocusElement","useRef","popupTransition","useTransition","config","springs","smooth","keys","from","opacity","transform","enter","useEffect","current","focus","StyledPopover","closeOnOpenerFocus","placement","Container","to","ref","tabIndex","flexGrow","overflow","outline","elt","clientHeight","top","left","right","section","Popover","spin","keyframes","LoadingRing","loadingRing","ActionContainer","SpinnerContainer","ActionImage","src","Title","h1","Subtitle","p","surfaceContentSecondary","h4","contentSecondary","WalletIcon","img","CopyButton","NetworkInfo","SpinnerImage","getNetworkLogo","networkId","ethereum","gnosisChain","ErrorContainer","ButtonContainer","WalletButton","ready","WalletButtonBase","disabled","alt","WalletName","ParameterType","CommandName","MainHeader","WalletButtonsContainer","SCREENS","onConnect","useConnect","connectData","map","connector","wallet","walletIcon","onSwitchNetwork","onBack","error","switchNetwork","connectError","accountError","index","title","subtitle","image","buildSwitchAction","length","secondary","marginBottom","negative","wide","copy","toast","useToast","useCallback","text","confirmationMessage","useCopyToClipboard","accountAddress","Error","handleCopyAddress","padding","display","alignItems","marginRight","focusRingRadius","entity","compact","badgeOnly","cursor","verticalAlign","hint","marginLeft","marginTop","Connecting","Action","Connected","AccountModule","buttonRef","timer","disconnect","connect","promptedActionSucceeded","setPromptedActionSucceeded","displayAccountButton","Screen","clearTimeout","label","setTimeout","then","switchAction","console","catch","err","TopBar","logo","CallCode","Method","identifier","keywords","Object","values","conf","comments","lineComment","brackets","surroundingPairs","open","close","autoClosingPairs","notIn","autoCloseBefore","indentationRules","increaseIndentPattern","RegExp","decreaseIndentPattern","language","defaultToken","tokenPostfix","token","namedLiterals","escapes","tokenizer","root","include","stringVerbatim","regex","action","next","stringLiteral","bracketCounting","comment","whitespace","expression","cases","contribution","extensions","aliases","LoadingAnimation","LoadingWrapper","Loading","Wrapper","Call","Claim","Distribute","Flow","Index","Subscription","Token","Approve","TransferFrom","Upgrade","Downgrade","Create","Update","Delete","Revoke","Address","Bytes","Uint","receiverParam","type","indexIdParam","subscriberParam","publisherParam","tokenParam","amountParam","userDataParam","String","default","commands","params","subCommands","SuperfluidContext","createContext","sf","allSuperTokens","SUPERFLUID_CACHE","Map","SuperfluidProvider","useSigner","signer","setSf","setAllSuperTokens","lastSignerRef","clear","a","has","Framework","create","query","listAllSuperTokens","superTokens","Provider","value","useSuperfluid","context","useContext","getSuggestionsFromParam","c","currentWord","tokenSymbols","param","s","parseLineContent","lineContent","suggestionLists","lineWords","split","toString","find","subCommandName","subCommand","VortexEditor","code","onChange","onEditorMounting","monaco","useMonaco","prefix","reduce","symbols","sT","underlyingSymbol","symbol","substring","push","getTokenSymbols","completionProvider","languages","registerCompletionItemProvider","triggerCharacters","provideCompletionItems","model","currentPosition","getLineContent","lineNumber","getWordUntilPosition","startColumn","endColumn","range","startLineNumber","endLineNumber","suggestions","v","insertText","kind","dispose","loading","str","beforeMount","editor","defineTheme","register","setLanguageConfiguration","setMonarchTokensProvider","onMount","setPosition","column","fontFamily","detectIndentation","tabSize","minimap","scrollbar","useShadows","verticalScrollbarSize","vertical","timeUnits","m","h","d","w","mo","y","resolveParam","test","startsWith","JSON","parse","replace","stringify","slice","lastIndexOf","entities","utils","isAddress","uint","match","amount","decimals","unit","inverse","integer","decimal","BigNumber","padEnd","toDecimals","parseInt","mul","bool","boolean","bytes","hexlify","toUtf8Bytes","calldata","signature","Interface","encodeFunctionData","callAgreement","agreement","method","args","userData","_vortex","input","_args","types","arg","i","preapprovals","command","trim","_","commandName","receiver","ctx","callCFA","agreements","CFA","callIDA","IDA","rest","spender","ERC20_APPROVE","sender","recipient","ERC20_TRANSFER_FROM","SUPERTOKEN_UPGRADE","SUPERTOKEN_DOWNGRADE","flowRate","SUPERFLUID_CALL_AGREEMENT","host","indexId","indexValue","publisher","subscriber","units","superApp","paramTypes","CALL_APP_ACTION","Operation","Promise","resolve","gasLimit","preApprove","all","Contract","approve","wait","vortex","strings","exec","res","acc","obj","underlyingAddress","settings","cfaV1Address","idaV1Address","hostAddress","log","key","join","calls","batchCall","Terminal","editorMounting","setEditorMounting","inProgress","setInProgress","setCode","handleExecute","receipt","alert","transactionHash","message","EditorWrapper","mode","textAlign","Routes","path","App","ReactDOM","render","StrictMode","assetsUrl","layout","scrollView","document","getElementById"],"mappings":"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","file":"static/js/main.56bda670.chunk.js","sourcesContent":["import { Buffer } from \"buffer\";\nimport { useMemo } from \"react\";\nimport type { ReactNode } from \"react\";\nimport { allChains, WagmiProvider } from \"wagmi\";\nimport type { Connector } from \"wagmi\";\nimport { InjectedConnector } from \"wagmi/connectors/injected\";\nimport { WalletConnectConnector } from \"wagmi/connectors/walletConnect\";\nimport { InfuraProvider } from \"@ethersproject/providers\";\nimport { ethers } from \"ethers\";\n\nconst CHAIN_WHITELIST = [3, 4, 5, 10, 42, 69, 137, 42161, 421611, 80001];\nconst INFURA_ID = process.env.REACT_APP_INFURA_ID;\n\n// polyfill Buffer for client for walletconnect\nif (!window.Buffer) {\n  window.Buffer = Buffer;\n}\n\nconst getConnectors = (): Connector[] => {\n  const chains = allChains.filter((chain) =>\n    CHAIN_WHITELIST.includes(chain.id)\n  );\n\n  return [\n    new InjectedConnector({\n      chains,\n      options: { shimDisconnect: true },\n    }),\n    new WalletConnectConnector({\n      chains,\n      options: {\n        infuraId: process.env.REACT_APP_INFURA_ID,\n        qrcode: true,\n      },\n    }),\n  ];\n};\n\nconst getProvider = ({\n  chainId,\n}: {\n  chainId?: number;\n  connector?: Connector;\n}) => {\n  if (chainId && CHAIN_WHITELIST.includes(chainId)) {\n    return new InfuraProvider(chainId, INFURA_ID);\n  }\n\n  return ethers.getDefaultProvider();\n};\n\nexport const Wagmi = ({ children }: { children: ReactNode }) => {\n  const connectors = useMemo(() => getConnectors(), []);\n\n  return (\n    <WagmiProvider connectors={connectors} provider={getProvider}>\n      {children}\n    </WagmiProvider>\n  );\n};\n","import { createStore } from \"@udecode/zustood\";\nimport { Connector } from \"wagmi\";\n\nexport enum ScreenType {\n  Wallets,\n  Connecting,\n  Error,\n  Action,\n  Connected,\n}\n\nexport type PromptedAction = {\n  title: string;\n  subtitle?: string;\n  image?: string;\n};\n\ntype AccountModuleState = {\n  opened: boolean;\n  promptedAction: PromptedAction | null;\n  selectedConnector: Connector | null;\n  currentScreen: ScreenType;\n  screenDirection: -1 | 1;\n};\n\nconst initialState: AccountModuleState = {\n  opened: false,\n  promptedAction: null,\n  selectedConnector: null,\n  currentScreen: ScreenType.Wallets,\n  screenDirection: -1,\n};\n\nconst accountModuleStore = createStore(\"account-module\")(initialState, {\n  devtools: { enabled: process.env.NODE_ENV === \"development\" },\n})\n  .extendActions((set, get) => ({\n    toggleOpened: () => set.opened(!get.opened()),\n    reset: () => {\n      const {\n        opened,\n        promptedAction,\n        selectedConnector,\n        currentScreen,\n        screenDirection,\n      } = initialState;\n\n      set.opened(opened);\n      set.promptedAction(promptedAction);\n      set.selectedConnector(selectedConnector);\n      set.currentScreen(currentScreen);\n      set.screenDirection(screenDirection);\n    },\n    goToScreen: (screen: ScreenType) => {\n      const previousScreen = get.currentScreen();\n      const screenDirection = previousScreen > screen ? -1 : 1;\n\n      set.currentScreen(screen);\n      set.screenDirection(screenDirection);\n    },\n  }))\n  .extendActions((set) => ({\n    goToInitialScreen: () => {\n      set.reset();\n      set.opened(true);\n    },\n  }));\n\nexport const useAccounModuleStore = accountModuleStore.useStore;\nexport const actions = accountModuleStore.set;\n","export default __webpack_public_path__ + \"static/media/metamask.c5f1312c.svg\";","export default __webpack_public_path__ + \"static/media/walletconnect.82f35f42.svg\";","import {\n  Chain,\n  ChainNotConfiguredError,\n  UserRejectedRequestError,\n} from \"wagmi\";\n\nimport metamask from \"./assets/metamask.svg\";\nimport walletconnect from \"./assets/walletconnect.svg\";\n\nconst chainNotConfiguredError = new ChainNotConfiguredError();\n\nexport const getWalletIconPath = (\n  id: string | undefined\n): string | undefined => {\n  switch (id) {\n    case \"injected\":\n      return metamask;\n    case \"walletConnect\":\n      return walletconnect;\n    default:\n      return;\n  }\n};\n\nexport const getNetworkError = (\n  networkError: Error | undefined,\n  networkData: { chain?: { unsupported: boolean | undefined }; chains: Chain[] }\n): Error | undefined => {\n  if (networkError) {\n    return networkError;\n  }\n\n  if (networkData.chain?.unsupported) {\n    return chainNotConfiguredError;\n  }\n};\n\nexport const isUserRejectedRequestError = (error: Error) =>\n  error instanceof UserRejectedRequestError;\n","import {\n  ButtonBase,\n  EthIdenticon,\n  GU,\n  IconDown,\n  RADIUS,\n  shortenAddress,\n  textStyle,\n  useTheme,\n  useViewport,\n} from \"@1hive/1hive-ui\";\nimport { Fragment } from \"react\";\nimport type { ReactNode } from \"react\";\nimport styled from \"styled-components\";\nimport { useAccount, useNetwork } from \"wagmi\";\n\ntype AccountButtonWrapperProps = {\n  content: ReactNode;\n  hasPopover: boolean;\n  icon?: string | ReactNode;\n  onClick?: () => void;\n};\n\nconst AccountButtonWrapper = ({\n  content,\n  hasPopover = false,\n  icon,\n  onClick,\n}: AccountButtonWrapperProps) => {\n  const { above } = useViewport();\n  const theme = useTheme();\n\n  return (\n    <AccountButtonBase onClick={onClick}>\n      <InnerContainer>\n        <>\n          {icon}\n          {above(\"medium\") && (\n            <Fragment>\n              <div\n                style={{\n                  paddingLeft: `${1 * GU}px`,\n                  paddingRight: `${0.5 * GU}px`,\n                }}\n              >\n                {content}\n              </div>\n              {hasPopover && (\n                <IconDown size=\"small\" color={theme.surfaceIcon} />\n              )}\n            </Fragment>\n          )}\n        </>\n      </InnerContainer>\n    </AccountButtonBase>\n  );\n};\n\ntype AccountButtonProps = {\n  onClick: () => void;\n};\n\nexport const AccountButton = ({ onClick }: AccountButtonProps) => {\n  const theme = useTheme();\n  const [{ data: accountData }] = useAccount({ fetchEns: true });\n  const [{ data: networkData }] = useNetwork();\n  const { address, ens } = accountData || {};\n\n  return (\n    <AccountButtonWrapper\n      hasPopover\n      onClick={onClick}\n      icon={\n        <div style={{ position: \"relative\" }}>\n          <EthIdenticon address={address} radius={RADIUS} />\n          <ConnectedCircle />\n        </div>\n      }\n      content={\n        <>\n          {!!address && (\n            <LabelWrapper>\n              <LabelInnerWrapper>\n                {ens?.name || shortenAddress(address ?? \"\")}\n              </LabelInnerWrapper>\n            </LabelWrapper>\n          )}\n          <div\n            style={{\n              fontSize: \"11px\", //  doesn’t exist in aragonUI\n              color: theme.positive,\n            }}\n          >\n            Connected to {networkData.chain?.name}\n          </div>\n        </>\n      }\n    />\n  );\n};\n\nconst AccountButtonBase = styled(ButtonBase)`\n  height: 100%;\n  padding: ${0.2 * GU}px;\n  ${(props) =>\n    props.onClick !== undefined\n      ? `&:active { background: ${props.theme.surfacePressed}; }`\n      : `cursor: auto;`};\n`;\n\nconst InnerContainer = styled.div`\n  display: flex;\n  align-items: center;\n  text-align: left;\n  padding: 0 ${1 * GU}px;\n`;\n\nconst ConnectedCircle = styled.div`\n  position: absolute;\n  bottom: -3px;\n  right: -3px;\n  width: 10px;\n  height: 10px;\n  background: ${(props) => props.theme.positive};\n  border: 2px solid ${(props) => props.theme.surface};\n  border-radius: 50%;\n`;\n\nconst LabelWrapper = styled.div`\n  margin-bottom: -5px;\n\n  ${textStyle(\"body2\")};\n`;\n\nconst LabelInnerWrapper = styled.div`\n  overflow: hidden;\n  max-width: ${16 * GU}px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n","import { GU, Popover, springs } from \"@1hive/1hive-ui\";\nimport { useEffect, useRef, useState } from \"react\";\nimport type { ReactNode } from \"react\";\nimport { a, Spring, useTransition } from \"@react-spring/web\";\nimport styled from \"styled-components\";\n\ntype PopoverProps = {\n  children: ReactNode;\n  direction: -1 | 1;\n  heading?: string;\n  onClose: () => void;\n  opener: ReactNode;\n  screenId: number | string;\n  visible: boolean;\n  width: number | string;\n};\n\nexport const HeaderPopover = ({\n  children,\n  direction,\n  onClose,\n  opener,\n  screenId,\n  visible,\n  width,\n}: PopoverProps) => {\n  const [height, setHeight] = useState(30 * GU);\n\n  // Prevents to lose the focus on the popover when a screen leaves while an\n  // element inside is focused (e.g. when clicking on the “disconnect” button).\n  const popoverFocusElement = useRef<HTMLElement | null>();\n\n  const popupTransition = useTransition(screenId, {\n    config: springs.smooth,\n    keys: screenId,\n    from: {\n      opacity: 0,\n      transform: `translate3d(${10 * GU * direction}px, 0, 0)`,\n    },\n    enter: {\n      opacity: 1,\n      transform: `translate3d(0, 0, 0)`,\n    },\n  });\n\n  useEffect(() => {\n    if (popoverFocusElement.current) {\n      popoverFocusElement.current.focus();\n    }\n  }, [screenId]);\n\n  return (\n    <StyledPopover\n      closeOnOpenerFocus\n      onClose={onClose}\n      opener={opener}\n      placement=\"bottom-end\"\n      visible={visible}\n      width={width}\n    >\n      <Container>\n        <Spring\n          config={springs.smooth}\n          from={{ height: 33 * GU }}\n          to={{ height }}\n        >\n          {({ height }) => (\n            <a.div\n              // @ts-ignore\n              ref={popoverFocusElement}\n              tabIndex={0}\n              style={{\n                height: height,\n                position: \"relative\",\n                flexGrow: 1,\n                width: \"100%\",\n                overflow: \"hidden\",\n                outline: 0,\n              }}\n            >\n              {popupTransition(({ opacity, transform }) => (\n                <a.div\n                  ref={(elt) => {\n                    if (elt) {\n                      setHeight(elt.clientHeight);\n                    }\n                  }}\n                  style={{\n                    opacity,\n                    transform,\n                    position: \"absolute\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                  }}\n                >\n                  {children}\n                </a.div>\n              ))}\n            </a.div>\n          )}\n        </Spring>\n      </Container>\n    </StyledPopover>\n  );\n};\n\nconst Container = styled.section`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n`;\n\nconst StyledPopover = styled(Popover)`\n  margin-top: 3px;\n  width: ${(props) => `${props.width}px`};\n`;\n","export default __webpack_public_path__ + \"static/media/loading-ring.ae5c4b38.svg\";","import styled, { keyframes } from \"styled-components\";\n\nimport loadingRing from \"./assets/loading-ring.svg\";\n\nconst spin = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const LoadingRing = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: url(${loadingRing}) no-repeat 0 0;\n  animation-duration: 1s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n  animation-name: ${spin};\n  // prevents flickering on Firefox\n  backface-visibility: hidden;\n`;\n","import { GU, textStyle } from \"@1hive/1hive-ui/\";\nimport styled from \"styled-components\";\n\nimport { LoadingRing } from \"../LoadingRing\";\nimport { useAccounModuleStore } from \"../use-account-module-store\";\n\nexport const ScreenPromptedAction = () => {\n  const { promptedAction } = useAccounModuleStore();\n\n  if (!promptedAction) {\n    return null;\n  }\n\n  const { title, subtitle, image } = promptedAction;\n\n  return (\n    <Container>\n      <ActionContainer>\n        <SpinnerContainer>\n          <LoadingRing />\n          {image && <ActionImage src={image} />}\n        </SpinnerContainer>\n        <Title>{title}</Title>\n        <Subtitle>{subtitle}</Subtitle>\n      </ActionContainer>\n    </Container>\n  );\n};\n\nconst Container = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: ${2 * GU}px;\n  height: 100%;\n`;\n\nconst ActionContainer = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n`;\n\nconst SpinnerContainer = styled.div`\n  position: relative;\n  width: ${10.5 * GU}px;\n  height: ${10.5 * GU}px;\n`;\n\nconst ActionImage = styled.div<{ src: string }>`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: 50% 50% / auto ${5 * GU}px no-repeat url(${(props) => props.src});\n`;\n\nconst Title = styled.h1`\n  padding-top: ${2 * GU}px;\n  font-weight: 600;\n  ${textStyle(\"body1\")};\n`;\n\nconst Subtitle = styled.p`\n  width: ${36 * GU}px;\n  margin-top: ${1 * GU}px;\n  color: ${(props) => props.theme.surfaceContentSecondary};\n`;\n","import {\n  Button,\n  ButtonBase,\n  GU,\n  IconCheck,\n  IconCopy,\n  IdentityBadge,\n  RADIUS,\n  textStyle,\n  useTheme,\n} from \"@1hive/1hive-ui\";\nimport { useCallback, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useAccount, useNetwork } from \"wagmi\";\n\nimport { useCopyToClipboard } from \"../../../hooks/useCopyToClipboard\";\nimport { getWalletIconPath } from \"../helpers\";\nimport { ScreenType, actions } from \"../use-account-module-store\";\n\ntype ScreenConnectedProps = {\n  onBack(): void;\n};\n\nexport const ScreenConnected = ({ onBack }: ScreenConnectedProps) => {\n  const theme = useTheme();\n  const copy = useCopyToClipboard();\n  const [{ data: networkData }] = useNetwork();\n  const [{ data: accountData }] = useAccount();\n\n  const chain = networkData.chain;\n  const wallet = accountData?.connector;\n  const accountAddress = accountData?.address;\n\n  useEffect(() => {\n    if (networkData.chain?.unsupported || !accountAddress) {\n      actions.goToScreen(ScreenType.Error);\n    }\n  }, [networkData.chain, accountAddress]);\n\n  const handleCopyAddress = useCallback(\n    () => copy(accountAddress),\n    [accountAddress, copy]\n  );\n\n  return (\n    <div\n      style={{\n        padding: 2 * GU,\n      }}\n    >\n      <Title>Active Wallet</Title>\n      <div style={{ display: \"flex\", alignItems: \"center\", width: \"100%\" }}>\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"flex-end\",\n            marginRight: 3 * GU,\n          }}\n        >\n          <WalletIcon\n            src={getWalletIconPath(wallet?.id)}\n            alt=\"\"\n            size={3 * GU}\n          />\n          <span>{wallet?.id === \"unknown\" ? \"Wallet\" : wallet?.name}</span>\n        </div>\n        <div style={{ width: \"100%\" }}>\n          <CopyButton onClick={handleCopyAddress} focusRingRadius={RADIUS}>\n            <IdentityBadge\n              entity={accountAddress}\n              compact\n              badgeOnly\n              style={{ cursor: \"pointer\" }}\n            />\n            <IconCopy style={{ verticalAlign: \"middle\" }} color={theme.hint} />\n          </CopyButton>\n        </div>\n      </div>\n      <div style={{ padding: `${2 * GU}px 0` }}>\n        <NetworkInfo>\n          <IconCheck size=\"small\" />\n          <span style={{ marginLeft: 0.5 * GU }}>\n            {`Connected to ${chain ? chain.name : \"Unknown\"} Network`}\n          </span>\n        </NetworkInfo>\n      </div>\n      <Button onClick={onBack} wide style={{ marginTop: 1 * GU }}>\n        Disconnect wallet\n      </Button>\n    </div>\n  );\n};\n\nconst Title = styled.h4`\n  color: ${(props) => props.theme.contentSecondary};\n  margin-bottom: ${2 * GU}px, ${textStyle(\"label2\")};\n  ${textStyle(\"label2\")};\n`;\n\nconst WalletIcon = styled.img<{ size: string | number }>`\n  ${({ size }) => size && `width: ${size}px; height: ${size}px;`};\n  margin-right: ${0.5 * GU}px;\n  transform: translateY(-2px);\n`;\n\nconst CopyButton = styled(ButtonBase)`\n  display: flex;\n  align-items: center;\n  justify-self: flex-end;\n  padding: ${0.5 * GU}px;\n  &:active {\n    background: ${(props) => props.theme.surfacePressed};\n  }\n`;\n\nconst NetworkInfo = styled.div`\n  display: flex;\n  align-items: center;\n  color: ${(props) => props.theme.positive};\n  ${textStyle(\"label2\")};\n`;\n","import { GU, textStyle, useTheme } from \"@1hive/1hive-ui\";\nimport styled from \"styled-components\";\n\nimport { getWalletIconPath } from \"../helpers\";\nimport { LoadingRing } from \"../LoadingRing\";\nimport { useAccounModuleStore } from \"../use-account-module-store\";\n\nexport const ScreenConnecting = () => {\n  const theme = useTheme();\n  const { selectedConnector: wallet } = useAccounModuleStore();\n\n  if (!wallet) {\n    return null;\n  }\n\n  const walletIcon = getWalletIconPath(wallet.id);\n\n  return (\n    <Container>\n      <SpinnerContainer>\n        <LoadingRing />\n        {walletIcon && <SpinnerImage src={walletIcon} />}\n      </SpinnerContainer>\n      <Title>Connecting to {wallet.name}</Title>\n      <p\n        style={{ width: `${36 * GU}px`, color: theme.surfaceContentSecondary }}\n      >\n        Log into {wallet.name || \"Unknown\"}. You may be temporarily redirected\n        to a new screen.\n      </p>\n    </Container>\n  );\n};\n\nconst Container = styled.section`\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: ${2 * GU}px;\n  height: 100%;\n  text-align: center;\n`;\n\nconst SpinnerContainer = styled.div`\n  position: relative;\n  width: ${10.5 * GU}px;\n  height: ${10.5 * GU}px;\n`;\n\nconst SpinnerImage = styled.div<{ src: string }>`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: 50% 50% / auto ${5 * GU}px no-repeat url(${(props) => props.src});\n`;\n\nconst Title = styled.h1`\n  padding-top: ${2 * GU}px;\n  font-weight: 600;\n  ${textStyle(\"body1\")};\n`;\n","export default __webpack_public_path__ + \"static/media/ethereum.df265e36.svg\";","export default __webpack_public_path__ + \"static/media/gnosis-chain.965f5bed.svg\";","import ethereum from \"../assets/ethereum.svg\";\nimport gnosisChain from \"../assets/gnosis-chain.svg\";\nimport polygon from \"../assets/polygon.jpg\";\n\nexport const getNetworkLogo = (networkId: number): string | undefined => {\n  switch (networkId) {\n    case 1:\n    case 3:\n    case 4:\n    case 5:\n    case 42:\n      return ethereum;\n    case 100:\n      return gnosisChain;\n    case 137:\n    case 80001:\n      return polygon;\n  }\n};","export default \"data:image/jpeg;base64,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\"","import {\n  Button,\n  GU,\n  IconError,\n  Link,\n  textStyle,\n  useTheme,\n} from \"@1hive/1hive-ui\";\nimport { useMemo } from \"react\";\nimport styled from \"styled-components\";\nimport {\n  Chain,\n  ChainNotConfiguredError,\n  useAccount,\n  useConnect,\n  useNetwork,\n} from \"wagmi\";\nimport { getNetworkLogo } from \"../../../utils/icons\";\nimport { getNetworkError } from \"../helpers\";\nimport type { PromptedAction } from \"../use-account-module-store\";\n\nconst buildSwitchAction = (chain: Chain): PromptedAction => ({\n  title: `Connecting to ${chain.name} network`,\n  subtitle: `Creating and/or switching to the ${chain.name} network (id: ${chain.id}) in your wallet. You may be temporarily redirected to a new screen.`,\n  image: getNetworkLogo(chain.id),\n});\n\ntype ScreenErrorProps = {\n  onSwitchNetwork(switchAction: PromptedAction, chain: Chain): void;\n  onBack(): void;\n};\n\nexport const ScreenError = ({ onSwitchNetwork, onBack }: ScreenErrorProps) => {\n  const theme = useTheme();\n  const [{ data: networkData, error: networkError }, switchNetwork] =\n    useNetwork();\n  const [{ error: connectError }] = useConnect();\n  const [{ error: accountError }] = useAccount();\n\n  const error =\n    getNetworkError(networkError, networkData) || connectError || accountError;\n\n  const [title, secondary] = useMemo(() => {\n    if (\n      error instanceof ChainNotConfiguredError ||\n      networkData.chain?.unsupported\n    ) {\n      return [\n        \"Wrong network\",\n        <span key=\"\">\n          Please select one of these networks:{\" \"}\n          {networkData.chains.map((chain, index, chains) =>\n            switchNetwork ? (\n              <span key={chain.id}>\n                <Link\n                  onClick={() => {\n                    onSwitchNetwork(buildSwitchAction(chain), chain);\n                  }}\n                >\n                  {chain.name}\n                  {index < chains.length - 1 ? \",\" : \"\"}\n                </Link>\n                {index < chains.length - 1 ? \" \" : \"\"}\n              </span>\n            ) : (\n              <span key={chain.id}>\n                {chain.name}\n                {index < chains.length - 1 ? \", \" : \"\"}\n              </span>\n            )\n          )}\n        </span>,\n      ];\n    }\n\n    return [\n      \"Failed to enable your account\",\n      \"You can try another Ethereum wallet.\",\n    ];\n  }, [error, networkData, onSwitchNetwork, switchNetwork]);\n\n  return (\n    <Container>\n      <ErrorContainer>\n        <div style={{ marginBottom: -2 * GU }}>\n          <IconError\n            style={{ width: \"130px\", height: \"130px\" }}\n            color={theme.negative}\n          />\n        </div>\n        <Title>{title}</Title>\n        <p\n          style={{\n            width: 36 * GU,\n            color: theme.surfaceContentSecondary,\n          }}\n        >\n          {secondary}\n        </p>\n      </ErrorContainer>\n      <ButtonContainer>\n        <Button onClick={onBack} wide>\n          Go back\n        </Button>\n      </ButtonContainer>\n    </Container>\n  );\n};\n\nconst Container = styled.section`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: ${2 * GU}px;\n  padding-top: ${1 * GU}px;\n  height: 100%;\n`;\n\nconst ErrorContainer = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n`;\n\nconst Title = styled.h1`\n  font-weight: 600;\n  ${textStyle(\"body1\")};\n`;\n\nconst ButtonContainer = styled.div`\n  flex-grow: 0;\n  margin-top: ${1 * GU}px;\n  width: 100%;\n`;\n","import { ButtonBase, GU, RADIUS, textStyle } from \"@1hive/1hive-ui\";\nimport styled from \"styled-components\";\nimport { Connector, useConnect } from \"wagmi\";\n\nimport { getWalletIconPath } from \"../helpers\";\n\nexport const ScreenWallets = ({\n  onConnect,\n}: {\n  onConnect(connector: Connector): void;\n}) => {\n  const [{ data: connectData }] = useConnect();\n\n  return (\n    <div>\n      <MainHeader>Ethereum Wallets</MainHeader>\n      <Container>\n        <WalletButtonsContainer>\n          {connectData.connectors.map((connector) => {\n            return (\n              <WalletButton\n                key={connector.id}\n                icon={getWalletIconPath(connector.id)}\n                name={connector.name}\n                ready={connector.ready}\n                onClick={() => onConnect(connector)}\n              />\n            );\n          })}\n        </WalletButtonsContainer>\n      </Container>\n    </div>\n  );\n};\n\ntype WalletButtonProps = {\n  icon?: string;\n  name?: string;\n  ready?: boolean;\n  onClick: (connector: Connector) => void;\n};\n\nfunction WalletButton({\n  icon,\n  name,\n  ready = true,\n  onClick,\n}: WalletButtonProps): JSX.Element {\n  return (\n    <WalletButtonBase onClick={onClick} disabled={!ready} ready={ready}>\n      {name && (\n        <>\n          {icon && (\n            <img style={{ height: `${5.25 * GU}px` }} src={icon} alt=\"\" />\n          )}\n          <WalletName>{name}</WalletName>\n          {!ready && <Subtitle>(Unsupported)</Subtitle>}\n        </>\n      )}\n    </WalletButtonBase>\n  );\n}\n\nconst MainHeader = styled.h4`\n  padding-top: ${2 * GU}px;\n  padding-left: ${2 * GU}px;\n  color: ${(props) => props.theme.contentSecondary};\n  margin-bottom: ${2 * GU}px;\n  ${textStyle(\"label2\")};\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  padding: ${2 * GU}px;\n`;\n\nconst WalletButtonsContainer = styled.div`\n  display: grid;\n  grid-gap: ${1.5 * GU}px;\n  grid-auto-flow: row;\n  grid-template-columns: repeat(2, 1fr);\n`;\n\nconst WalletButtonBase = styled(ButtonBase)`\n  position: relative;\n  opacity: ${(props) => (props.ready ? 1 : 0.6)};\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: ${12 * GU}px;\n  background: ${(props) => props.surface};\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15);\n  border-radius: ${RADIUS}px;\n  &:active {\n    top: 1px;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);\n  }\n`;\n\nconst WalletName = styled.div`\n  margin-top: ${1 * GU}px;\n  ${textStyle(\"body1\")};\n`;\n\nconst Subtitle = styled.div`\n  margin-top: ${-0.5 * GU}px;\n  ${textStyle(\"body4\")};\n`;\n","export enum ParameterType {\n  Address = \"address\",\n  String = \"string\",\n  Bool = \"bool\",\n  Bytes = \"bytes\",\n  Uint = \"uint\",\n}\n\nexport enum CommandName {\n  Call = \"call\",\n  Token = \"token\",\n  Flow = \"flow\",\n  Index = \"index\",\n  Distribute = \"distribute\",\n  Subscription = \"subscription\",\n  Claim = \"claim\",\n  // Sub-commands\n  PreApprove = \"pre-approve\",\n  Approve = \"approve\",\n  TransferFrom = \"transfer-from\",\n  Upgrade = \"upgrade\",\n  Downgrade = \"downgrade\",\n  Revoke = \"revoke\",\n  Create = \"create\",\n  Update = \"update\",\n  Delete = \"delete\",\n}\n\nexport interface Parameter {\n  name: string;\n  type: ParameterType;\n  default?: any;\n}\n\nexport interface Command {\n  name: CommandName;\n  subCommands?: Command[];\n  params?: Parameter[];\n}\n","import { Button, GU, IconConnect } from \"@1hive/1hive-ui\";\nimport { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Chain, Connector, useAccount, useConnect, useNetwork } from \"wagmi\";\nimport { getNetworkError } from \"./helpers\";\nimport {\n  PromptedAction,\n  ScreenType,\n  actions,\n  useAccounModuleStore,\n} from \"./use-account-module-store\";\nimport { AccountButton } from \"./AccountButton\";\nimport { HeaderPopover } from \"./HeaderPopover\";\nimport {\n  ScreenConnected,\n  ScreenConnecting,\n  ScreenError,\n  ScreenPromptedAction,\n  ScreenWallets,\n} from \"./screens\";\n\nconst SCREENS = [\n  ScreenWallets,\n  ScreenConnecting,\n  ScreenError,\n  ScreenPromptedAction,\n  ScreenConnected,\n];\n\nconst { Connecting, Error, Action, Connected } = ScreenType;\n\nexport const AccountModule = ({ compact }: { compact?: boolean }) => {\n  const buttonRef = useRef();\n  const timer = useRef<NodeJS.Timeout>();\n  const [{ data: accountData, error: accountError }, disconnect] = useAccount();\n  const [{ error: connectError }, connect] = useConnect();\n  const [{ data: networkData, error: networkError }, switchNetwork] =\n    useNetwork();\n  const [promptedActionSucceeded, setPromptedActionSucceeded] = useState(false);\n  const error =\n    getNetworkError(networkError, networkData) || accountError || connectError;\n\n  const { currentScreen, opened, screenDirection } = useAccounModuleStore();\n\n  const displayAccountButton =\n    currentScreen === Connected && !error && accountData?.address;\n\n  const Screen = SCREENS[currentScreen];\n\n  const handlePopoverClose = () => {\n    if (\n      currentScreen === Connecting ||\n      currentScreen === Error ||\n      currentScreen === Action\n    ) {\n      // Reject closing the popover\n      return false;\n    }\n    actions.opened(false);\n  };\n\n  const handleSwitchNetwork = (switchAction: PromptedAction, chain: Chain) => {\n    if (switchNetwork) {\n      actions.promptedAction(switchAction);\n      actions.goToScreen(Action);\n      switchNetwork(chain.id)\n        .then(({ data, error }) => {\n          if (data) {\n            setPromptedActionSucceeded(true);\n          } else {\n            console.error(error);\n            actions.goToInitialScreen();\n            actions.promptedAction(null);\n          }\n        })\n        .catch((err) => console.error(err));\n    }\n  };\n\n  const handleConnect = (connector: Connector) => {\n    actions.selectedConnector(connector);\n    actions.goToScreen(Connecting);\n    /**\n     * Set a timer to always display connecting screen for\n     * a period of time\n     */\n    timer.current = setTimeout(() => {\n      connect(connector).then(({ data, error }) => {\n        if (data?.chain?.unsupported || error) {\n          actions.goToScreen(Error);\n        } else {\n          actions.goToScreen(Connected);\n        }\n      });\n    }, 500);\n  };\n\n  const handleBack = () => {\n    actions.goToInitialScreen();\n    disconnect();\n  };\n\n  useEffect(() => {\n    return () => {\n      if (timer.current) {\n        clearTimeout(timer.current);\n      }\n    };\n  }, []);\n\n  /**\n   * Wait until network switching process is completed before going to\n   * the connected screen.\n   */\n  useEffect(() => {\n    if (promptedActionSucceeded && !networkData.chain?.unsupported) {\n      actions.goToScreen(Connected);\n      actions.promptedAction(null);\n      setPromptedActionSucceeded(false);\n    }\n  }, [promptedActionSucceeded, networkData.chain]);\n\n  return (\n    // @ts-ignore\n    <Container ref={buttonRef}>\n      {displayAccountButton ? (\n        <AccountButton onClick={actions.toggleOpened} />\n      ) : (\n        <Button\n          icon={<IconConnect />}\n          label=\"Connect account\"\n          onClick={actions.toggleOpened}\n          display={compact ? \"icon\" : \"all\"}\n        />\n      )}\n      <HeaderPopover\n        direction={screenDirection}\n        onClose={handlePopoverClose}\n        opener={buttonRef.current}\n        screenId={currentScreen}\n        visible={opened}\n        width={(currentScreen === Connected ? 41 : 51) * GU}\n      >\n        <Screen\n          onConnect={handleConnect}\n          onSwitchNetwork={handleSwitchNetwork}\n          onBack={handleBack}\n        />\n      </HeaderPopover>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  outline: 0;\n`;\n","import { useCallback } from \"react\"\nimport { useToast } from \"@1hive/1hive-ui\"\nimport { writeText as copy } from \"clipboard-polyfill\"\n\nexport function useCopyToClipboard() {\n  const toast = useToast()\n\n  return useCallback(\n    (text, confirmationMessage = \"Copied\") => {\n      copy(text)\n      if (confirmationMessage) {\n        toast(confirmationMessage)\n      }\n    },\n    [toast]\n  )\n}\n","export default __webpack_public_path__ + \"static/media/animated-logo.645dd8af.gif\";","import { GU, textStyle } from \"@1hive/1hive-ui\";\nimport styled from \"styled-components\";\nimport { AccountModule } from \"./AccountModule\";\nimport logo from \"../assets/animated-logo.gif\"\n\nexport const TopBar = () => (\n  <Container>\n    <Title><img src={logo} alt=\"logo\" width=\"100\" />Superfluid Vortex</Title>\n    <AccountModule compact={false} />\n  </Container>\n);\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: ${2 * GU}px;\n  max-width: 1200px;\n  margin: auto;\n`;\n\nconst Title = styled.div`\n  ${textStyle(\"title2\")};\n  display: flex;\n  align-items: center;\n`;\n\n","import { CommandName } from \"./types\";\n\nconst bounded = (text: string) => `\\\\b${text}\\\\b`;\n\nconst identifierStart = \"[a-zA-Z]\";\nconst identifierContinue = \"[\\\\-:a-zA-Z0-9]\";\nconst identifier = bounded(`${identifierStart}${identifierContinue}*`);\n\nconst keywords = Object.values(CommandName);\n\nconst namedLiterals = [\"true\", \"false\"];\n\nconst nonCommentWs = `[ \\\\t\\\\r\\\\n]`;\n\nconst numericLiteral = `0x([0-9a-fA-F]+)|([0-9]+(e[0-9]+)?(mo|[s|m|h|d|w|mo|y])?(/mo|[s|m|h|d|w|mo|y])?)`;\n\nexport const conf = {\n  comments: {\n    lineComment: [\"//\", \"#\"],\n  },\n  brackets: [\n    [\"{\", \"}\"],\n    [\"[\", \"]\"],\n    [\"(\", \")\"],\n  ],\n  surroundingPairs: [\n    { open: \"{\", close: \"}\" },\n    { open: \"[\", close: \"]\" },\n    { open: \"(\", close: \")\" },\n    { open: \"'\", close: \"'\" },\n    { open: \"'''\", close: \"'''\" },\n  ],\n  autoClosingPairs: [\n    { open: \"{\", close: \"}\" },\n    { open: \"[\", close: \"]\" },\n    { open: \"(\", close: \")\" },\n    { open: \"'\", close: \"'\", notIn: [\"string\", \"comment\"] },\n    { open: \"'''\", close: \"'''\", notIn: [\"string\", \"comment\"] },\n  ],\n  autoCloseBefore: \":.,=}])' \\n\\t\",\n  indentationRules: {\n    increaseIndentPattern: new RegExp(\n      \"^((?!\\\\/\\\\/).)*(\\\\{[^}\\\"'`]*|\\\\([^)\\\"'`]*|\\\\[[^\\\\]\\\"'`]*)$\"\n    ),\n    decreaseIndentPattern: new RegExp(\"^((?!.*?\\\\/\\\\*).*\\\\*/)?\\\\s*[\\\\}\\\\]].*$\"),\n  },\n};\n\nexport const language = {\n  defaultToken: \"\",\n  tokenPostfix: \".vortex\",\n\n  brackets: [\n    { open: \"{\", close: \"}\", token: \"delimiter.curly\" },\n    { open: \"[\", close: \"]\", token: \"delimiter.square\" },\n    { open: \"(\", close: \")\", token: \"delimiter.parenthesis\" },\n  ],\n\n  keywords,\n  namedLiterals,\n\n  escapes: `\\\\\\\\(u{[0-9A-Fa-f]+}|n|r|t|\\\\\\\\|'|\\\\\\${)`,\n\n  tokenizer: {\n    root: [{ include: \"@expression\" }, { include: \"@whitespace\" }],\n\n    stringVerbatim: [\n      { regex: `(|'|'')[^']`, action: { token: \"string\" } },\n      { regex: `'''`, action: { token: \"string.quote\", next: \"@pop\" } },\n    ],\n\n    stringLiteral: [\n      {\n        regex: `\\\\\\${`,\n        action: { token: \"delimiter.bracket\", next: \"@bracketCounting\" },\n      },\n      { regex: `[^\\\\\\\\'$]+`, action: { token: \"string\" } },\n      { regex: \"@escapes\", action: { token: \"string.escape\" } },\n      { regex: `\\\\\\\\.`, action: { token: \"string.escape.invalid\" } },\n      { regex: `'`, action: { token: \"string\", next: \"@pop\" } },\n    ],\n\n    bracketCounting: [\n      {\n        regex: `{`,\n        action: { token: \"delimiter.bracket\", next: \"@bracketCounting\" },\n      },\n      { regex: `}`, action: { token: \"delimiter.bracket\", next: \"@pop\" } },\n      { include: \"expression\" },\n    ],\n\n    comment: [],\n\n    whitespace: [\n      { regex: nonCommentWs },\n      { regex: `\\\\/\\\\/.*$`, action: { token: \"comment\" } },\n      { regex: `#.*$`, action: { token: \"comment\" } },\n    ],\n\n    expression: [\n      {\n        regex: `'''`,\n        action: { token: \"string.quote\", next: \"@stringVerbatim\" },\n      },\n      { regex: `'`, action: { token: \"string.quote\", next: \"@stringLiteral\" } },\n      { regex: numericLiteral, action: { token: \"number\" } },\n      {\n        regex: identifier,\n        action: {\n          cases: {\n            \"@keywords\": { token: \"keyword\" },\n            \"@namedLiterals\": { token: \"keyword\" },\n            \"@default\": { token: \"identifier\" },\n          },\n        },\n      },\n    ],\n  },\n};\n\nexport const contribution = {\n  id: \"vortex\",\n  extensions: [\".vortex\"],\n  aliases: [],\n};\n","import { utils, BigNumber, Signer, Contract, ContractReceipt } from \"ethers\"\nimport { Framework } from \"@superfluid-finance/sdk-core\"\nimport Operation from \"@superfluid-finance/sdk-core/dist/module/Operation\"\n\ntype Config = {\n  entities: { [key: string]: string }\n  agreements: { [key: string]: string },\n  host: string,\n}\n\nexport enum CallCode {\n  ERC20_APPROVE = \"ERC20_APPROVE\",\n  ERC20_TRANSFER_FROM = \"ERC20_TRANSFER_FROM\",\n  SUPERTOKEN_UPGRADE = \"SUPERTOKEN_UPGRADE\",\n  SUPERTOKEN_DOWNGRADE = \"SUPERTOKEN_DOWNGRADE\",\n  SUPERFLUID_CALL_AGREEMENT = \"SUPERFLUID_CALL_AGREEMENT\",\n  CALL_APP_ACTION = \"CALL_APP_ACTION\"\n}\n\nexport enum Method {\n  CREATE_FLOW = 'createFlow',\n  UPDATE_FLOW = 'updateFlow',\n  DELETE_FLOW = 'deleteFlow',\n  CREATE_INDEX = 'createIndex',\n  UPDATE_INDEX = 'updateIndex',\n  DISTRIBUTE = 'distribute',\n  UPDATE_SUBSCRIPTION = 'updateSubscription',\n  APPROVE_SUBSCRIPTION = 'approveSubscription',\n  REVOKE_SUBSCRIPTION = 'revokeSubscription',\n  DELETE_SUBSCRIPTION = 'deleteSubscription',\n  CLAIM = 'claim'\n}\n\nconst timeUnits: { [key: string]: number } = {\n  s: 1,\n  m: 60,\n  h: 3600,\n  d: 86400,\n  w: 604800,\n  mo: 2592000, // 30d\n  y: 31536000,\n}\n\nconst resolveParam = (param: string, type: string, config: Config): any => {\n  if (/\\[\\d*\\]$/g.test(type)) {\n    if (!param.startsWith(\"[\")) {\n      throw new Error(`Parameter ${type} should be an array, ${param} given.`);\n    }\n    // Converts something like \"[[0x00,0x01],[0x03]]\" to [[\"0x00\",\"0x01\"],[\"0x03\"]]\n    return JSON.parse(\n      param\n        .replace(/\\[(?!\\[)/g, '[\"')\n        .replace(/(?<!\\]),/g, '\",')\n        .replace(/,(?!\\[)/g, ',\"')\n        .replace(/(?<!\\])\\]/g, '\"]')\n    ).map((param: string[]) => resolveParam(JSON.stringify(param), type.slice(0, type.lastIndexOf(\"[\")), config));\n  }\n  if (type === \"address\") {\n    return address(param, config)\n  }\n  if (/^u?int(\\d)*$/.test(type)) {\n    return uint(param);\n  }\n  if (type === \"bool\") {\n    return boolean(param)\n  }\n  if (type === \"bytes\") {\n    return bytes(param)\n  }\n  return param;\n}\n\nconst calldata = (signature: string, params: string[]) => {\n  return (new utils.Interface([`function ${signature} external`])).encodeFunctionData(signature.split(\"(\")[0], params)\n}\n\nconst callAgreement = (agreement: string) => (method: string, args: string[], userData: string) => {\n  return calldata(\"callAgreement(address,bytes,bytes)\", [\n    agreement,\n    calldata(method, args),\n    userData\n  ])\n}\n\nconst toDecimals = (amount: number | string, decimals = 18): BigNumber => {\n  const [integer, decimal] = String(amount).split(\".\");\n  return BigNumber.from((integer !== \"0\" ? integer : \"\") + (decimal || \"\").padEnd(decimals, \"0\") || \"0\");\n};\n\nfunction address(address: string, { entities }: Config): string {\n  if (utils.isAddress(address)) {\n    return address\n  } else if (address in entities) {\n    return entities[address]\n  }\n  throw Error(\"Unrecognized address \" + address)\n}\n\nfunction uint(uint: string): string {\n  const [, amount, decimals = \"0\", unit = \"s\", inverse = \"s\"] = String(uint).match(/^(\\d*(?:\\.\\d*)?)(?:e(\\d+))?([s|m|h|d|w|mo|y]|mo)?(?:\\/([s|m|h|d|w|mo|y]|mo))?$/)!\n  return toDecimals(amount, parseInt(decimals)).mul(timeUnits[unit]).div(timeUnits[inverse]).toString()\n}\n\nfunction bytes(bytes: string): string {\n  if (bytes.startsWith(\"0x\")) {\n    return bytes\n  }\n  return utils.hexlify(utils.toUtf8Bytes(bytes))\n}\n\nfunction boolean(bool: string) {\n  if (bool === \"true\") {\n    return true\n  }\n  if (bool === \"false\") {\n    return false\n  }\n  throw new Error(`Malformed boolean, it should be \"true\" or \"false\"`)\n}\n\n\n\nfunction _vortex(input: string, config: Config): [Operation[], { token: string, receiver: string, amount: string }[]] {\n  const _args = (args: string[], types: string[]) => {\n    return args.map((arg, i) => types[i] ? resolveParam(arg, types[i], config) : arg)\n  }\n\n  const preapprovals: { token: string; receiver: string, amount: string }[] = []\n\n  const commands = input\n    .split(\"\\n\")\n    .map((command) => command.split(\"#\")[0].split(\"//\")[0])\n    .map((command) => command.trim())\n    .filter((command) => !!command)\n    .map(command => command.replace(/\"([^\"]*)\"/g, (_, s) => s.replace(/ /g, '\"')).split(\" \").map((s) => s.replace(/\"/g, \" \")))\n    .filter(command => {\n      const [commandName, subCommand, ...args] = command\n      if (commandName === \"token\" && subCommand === \"pre-approve\") {\n        const [token, receiver, amount] = _args(args, ['address', 'address', 'uint256'])\n        preapprovals.push({ token, receiver, amount })\n        return false\n      }\n      return true\n    })\n  const actions = commands.map((command) => {\n    const [commandName, ...args] = command\n    const ctx = \"0x\"\n    const callCFA = callAgreement(config.agreements.CFA)\n    const callIDA = callAgreement(config.agreements.IDA)\n    switch (commandName) {\n      case \"token\": {\n        const [subCommand, ...rest] = args\n        switch (subCommand) {\n          case \"approve\": {\n            const [token, spender, amount] = _args(rest, ['address', 'address', 'uint256'])\n            return {\n              type: CallCode.ERC20_APPROVE,\n              to: token,\n              data: calldata(\"approve(address,uint256)\", [spender, amount])\n            }\n          }\n          case \"transfer-from\": {\n            const [token, sender, recipient, amount] = _args(rest, ['address', 'address', 'address', 'uint256'])\n            return {\n              type: CallCode.ERC20_TRANSFER_FROM,\n              to: token,\n              data: calldata('transferFrom(address,address,uint256)', [sender, recipient, amount])\n            }\n          }\n          case \"upgrade\": {\n            const [token, amount] = _args(rest, ['address', 'uint256'])\n            return {\n              type: CallCode.SUPERTOKEN_UPGRADE,\n              to: token,\n              data: calldata(\"upgrade(uint256)\", [amount])\n            }\n          }\n          case \"downgrade\": {\n            const [token, amount] = _args(rest, ['address', 'uint256'])\n            return {\n              type: CallCode.SUPERTOKEN_DOWNGRADE,\n              to: token,\n              data: calldata(\"downgrade(uint256)\", [amount])\n            }\n          }\n          default:\n            throw new Error(`Unrecognized sub-command: ${commandName} ${subCommand}`);\n        }\n      }\n      case \"flow\": {\n        const [subCommand, ...rest] = args\n        switch (subCommand) {\n          case \"create\": {\n            const [token, receiver, flowRate, userData = \"0x\"] = _args(rest, ['address', 'address', 'int96', 'bytes'])\n            return {\n              type: CallCode.SUPERFLUID_CALL_AGREEMENT,\n              to: config.host,\n              data: callCFA(\n                \"createFlow(address,address,int96,bytes)\",\n                [\n                  token,\n                  receiver,\n                  flowRate,\n                  ctx\n                ],\n                userData\n              )\n            }\n          }\n          case \"update\": {\n            const [token, receiver, flowRate, userData = \"0x\"] = _args(rest, ['address', 'address', 'int96', 'bytes'])\n            return {\n              type: CallCode.SUPERFLUID_CALL_AGREEMENT,\n              to: config.host,\n              data: callCFA(\n                \"updateFlow(address,address,int96,bytes)\",\n                [\n                  token,\n                  receiver,\n                  flowRate,\n                  ctx\n                ],\n                userData\n              )\n            }\n          }\n          case \"delete\": {\n            const [token, receiver, sender, userData = \"0x\"] = _args(rest, ['address', 'address', 'address', 'bytes'])\n            return {\n              type: CallCode.SUPERFLUID_CALL_AGREEMENT,\n              to: config.host,\n              data: callCFA(\n                \"deleteFlow(address,address,address,bytes)\",\n                [\n                  token,\n                  sender,\n                  receiver,\n                  ctx\n                ],\n                userData\n              )\n            }\n          }\n          default:\n            throw new Error(`Unrecognized sub-command: ${commandName} ${subCommand}`);\n        }\n      }\n      case \"index\": {\n        const [subCommand, ...rest] = args\n        switch (subCommand) {\n          case \"create\": {\n            const [token, indexId, userData = \"0x\"] = _args(rest, ['address', 'uint32', 'bytes'])\n            return {\n              type: CallCode.SUPERFLUID_CALL_AGREEMENT,\n              to: config.host,\n              data: callIDA(\"createIndex(address,uint32,bytes)\", [\n                token,\n                indexId,\n                ctx\n              ], userData)\n            }\n          }\n          case \"update\": {\n            const [token, indexId, indexValue, userData = \"0x\"] = _args(rest, ['address', 'uint32', 'uint128', 'bytes'])\n            return {\n              type: CallCode.SUPERFLUID_CALL_AGREEMENT,\n              to: config.agreements.IDA,\n              data: callIDA(\"updateIndex(address,uint32,uint128,bytes)\", [\n                token,\n                indexId,\n                indexValue,\n                ctx\n              ], userData)\n            }\n          }\n          default:\n            throw new Error(`Unrecognized sub-command: ${commandName} ${subCommand}`);\n        }\n      }\n      case \"distribute\": {\n        const [token, indexId, amount, userData = \"0x\"] = _args(args, ['address', 'uint32', 'uint256', 'bytes'])\n        return {\n          type: CallCode.SUPERFLUID_CALL_AGREEMENT,\n          to: config.agreements.IDA,\n          data: callIDA(\"distribute(address,uint32,uint256,bytes)\", [\n            token,\n            indexId,\n            amount,\n            ctx\n          ], userData)\n        }\n      }\n      case \"subscription\": {\n        const [subCommand, ...rest] = args\n        switch (subCommand) {\n          case \"approve\": {\n            const [token, indexId, publisher, userData = \"0x\"] = _args(rest, ['address', 'uint32', 'address', 'bytes'])\n            return {\n              type: CallCode.SUPERFLUID_CALL_AGREEMENT,\n              to: config.agreements.IDA,\n              data: callIDA(\"approveSubscription(address,address,uint32,bytes)\", [\n                token,\n                publisher,\n                indexId,\n                ctx\n              ], userData)\n            }\n          }\n          case \"revoke\": {\n            const [token, indexId, publisher, userData = \"0x\"] = _args(rest, ['address', '32', 'address', 'bytes'])\n            return {\n              type: CallCode.SUPERFLUID_CALL_AGREEMENT,\n              to: config.agreements.IDA,\n              data: callIDA(\"revokeSubscription(address,address,uint32,bytes)\", [\n                token,\n                publisher,\n                indexId,\n                ctx\n              ], userData)\n            }\n          }\n          case \"update\": {\n            const [token, indexId, subscriber, units, userData = \"0x\"] = _args(rest, ['address', 'uint32', 'address', 'uint128', 'bytes'])\n            return {\n              type: CallCode.SUPERFLUID_CALL_AGREEMENT,\n              to: config.agreements.IDA,\n              data: callIDA(\"updateSubscription(address,uint32,address,uint128,bytes)\", [\n                token,\n                indexId,\n                subscriber,\n                units,\n                ctx\n              ], userData)\n            }\n          }\n          case \"delete\": {\n            const [token, indexId, subscriber, publisher, userData = \"0x\"] = _args(rest, ['address', 'uint', 'address', 'address', 'bytes'])\n            return {\n              type: CallCode.SUPERFLUID_CALL_AGREEMENT,\n              to: config.agreements.IDA,\n              data: callIDA(\"deleteSubscription(address,address,uint32,address,bytes)\", [\n                token,\n                publisher,\n                indexId,\n                subscriber,\n                ctx\n              ], userData)\n            }\n          }\n          default:\n            throw new Error(`Unrecognized sub-command: ${commandName} ${subCommand}`);\n        }\n      }\n      case \"claim\": {\n        const [token, indexId, subscriber, publisher, userData = \"0x\"] = _args(args, ['address', 'uint32', 'address', 'address', 'bytes'])\n        return {\n          type: CallCode.SUPERFLUID_CALL_AGREEMENT,\n          to: config.agreements.IDA,\n          data: callIDA(\"claim(address,address,uint32,address,bytes)\", [\n            token,\n            publisher,\n            indexId,\n            subscriber,\n            ctx\n          ], userData)\n        }\n      }\n      case \"call\": {\n        const [superApp, action, ...params] = _args(args, ['address'])\n        const paramTypes = action.split(\"(\")[1].split(\")\")[0].split(\",\").map(resolveParam)\n        return {\n          type: CallCode.CALL_APP_ACTION,\n          to: superApp,\n          data: calldata(action, _args(params, paramTypes))\n        }\n      }\n      default:\n        throw new Error(\"Unrecognized command: \" + commandName);\n    }\n  })\n  return [\n    actions.map(({ to, data, type }) => new Operation(Promise.resolve({ to, data, gasLimit: BigNumber.from(40000000) }), type)),\n    preapprovals\n  ]\n}\n\n\nconst preApprove = async (sf: Framework, signer: Signer, preapprovals: { token: string, receiver: string, amount: string }[]) => {\n  await Promise.all(preapprovals.map(async ({ token, receiver, amount }) => {\n    await (await new Contract(token, [\"function approve(address,uint256) external\"], signer).approve(receiver, amount, {\n          gasLimit: 100_000\n        })).wait()\n  }))\n}\n\nexport default function vortex(sf: Framework) {\n  return (\n    strings: TemplateStringsArray,\n    ...keys: string[]\n  ): { exec: (signer: Signer) => Promise<ContractReceipt> } => {\n    return {\n      exec: async (signer: Signer) => {\n        const config = {\n          entities: await sf.query.listAllSuperTokens({}).then(res => res.data.reduce((acc, obj) => ({ ...acc, [`token:${obj.symbol}`]: obj.id, [`token:${obj.symbol.slice(0, -1)}`]: obj.underlyingAddress }), {\n            \"agreement:CFA\": sf.settings.config.cfaV1Address,\n            \"agreement:IDA\": sf.settings.config.idaV1Address,\n            \"superfluid:host\": sf.settings.config.hostAddress,\n          })),\n          agreements: {\n            CFA: sf.settings.config.cfaV1Address,\n            IDA: sf.settings.config.idaV1Address,\n          },\n          host: sf.settings.config.hostAddress,\n        }\n        console.log(\"Loading config\", config)\n        const input = strings[0] + keys.map((key, i) => key + strings[i + 1]).join(\"\");\n        const [calls, preapprovals] = _vortex(input, config)\n        await preApprove(sf, signer, preapprovals)\n        return (await sf.batchCall(calls).exec(signer)).wait()\n      }\n    }\n  }\n}\n","import styled from \"styled-components\";\n\ntype LoadingProps = {\n  color?: string;\n};\nconst LoadingAnimation = ({ color = \"#fff\" }: LoadingProps) => (\n  <LoadingWrapper color={color}>\n    <div></div>\n    <div></div>\n  </LoadingWrapper>\n);\n\nconst LoadingWrapper = styled.div`\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n\n  & > div {\n    position: absolute;\n    border: 4px solid ${({ color }) => color};\n    opacity: 1;\n    border-radius: 50%;\n    animation: lds-ripple 2s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n  }\n  & div:nth-child(2) {\n    animation-delay: -0.5s;\n  }\n\n  @keyframes lds-ripple {\n    0% {\n      top: 36px;\n      left: 36px;\n      width: 0;\n      height: 0;\n      opacity: 0;\n    }\n    4.9% {\n      top: 36px;\n      left: 36px;\n      width: 0;\n      height: 0;\n      opacity: 0;\n    }\n    5% {\n      top: 36px;\n      left: 36px;\n      width: 0;\n      height: 0;\n      opacity: 1;\n    }\n    100% {\n      top: 0px;\n      left: 0px;\n      width: 72px;\n      height: 72px;\n      opacity: 0;\n    }\n  }\n`;\n\nexport const Loading = ({ color }: LoadingProps) => {\n  return (\n    <Wrapper>\n      <LoadingAnimation color={color} />\n      Loading...\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n","import { Command, CommandName, Parameter, ParameterType } from \"../types\";\n\nconst { Call, Claim, Distribute, Flow, Index, Subscription, Token } =\n  CommandName;\n// Sub-commands\nconst {\n  Approve,\n  TransferFrom,\n  Upgrade,\n  Downgrade,\n  Create,\n  Update,\n  Delete,\n  Revoke,\n} = CommandName;\nconst { Address, Bytes, Uint } = ParameterType;\n\nconst receiverParam: Parameter = {\n  name: \"receiver\",\n  type: Address,\n};\nconst indexIdParam: Parameter = {\n  name: \"indexId\",\n  type: Uint,\n};\nconst subscriberParam: Parameter = {\n  name: \"subscriber\",\n  type: Address,\n};\nconst publisherParam: Parameter = {\n  name: \"publisher\",\n  type: Address,\n};\nconst tokenParam: Parameter = {\n  name: \"token\",\n  type: Address,\n};\nconst amountParam: Parameter = {\n  name: \"amount\",\n  type: Uint,\n};\nconst userDataParam: Parameter = {\n  name: \"userData\",\n  type: ParameterType.String,\n  default: \"0x\",\n};\n\nexport const commands: Command[] = [\n  {\n    name: Call,\n    params: [\n      { name: \"superApp\", type: Address },\n      { name: \"calldata\", type: Bytes },\n    ],\n  },\n  {\n    name: Claim,\n    params: [tokenParam, indexIdParam, subscriberParam, publisherParam],\n  },\n  {\n    name: Distribute,\n    params: [tokenParam, indexIdParam, amountParam, userDataParam],\n  },\n  {\n    name: Token,\n    subCommands: [\n      {\n        name: Approve,\n        params: [tokenParam, { name: \"spender\", type: Address }, amountParam],\n      },\n      {\n        name: TransferFrom,\n        params: [\n          tokenParam,\n          { name: \"sender\", type: Address },\n          { name: \"recipient\", type: Address },\n          amountParam,\n        ],\n      },\n      {\n        name: Upgrade,\n        params: [tokenParam, amountParam],\n      },\n      {\n        name: Downgrade,\n        params: [tokenParam, amountParam],\n      },\n    ],\n  },\n  {\n    name: Flow,\n    subCommands: [\n      {\n        name: Create,\n        params: [\n          tokenParam,\n          receiverParam,\n          { name: \"flowRate\", type: Uint },\n          userDataParam,\n        ],\n      },\n      {\n        name: Update,\n        params: [\n          tokenParam,\n          receiverParam,\n          { name: \"flowRate\", type: Uint },\n          userDataParam,\n        ],\n      },\n      {\n        name: Delete,\n        params: [\n          tokenParam,\n          { name: \"sender\", type: Address },\n          receiverParam,\n          userDataParam,\n        ],\n      },\n    ],\n  },\n  {\n    name: Index,\n    subCommands: [\n      { name: Create, params: [tokenParam, indexIdParam, userDataParam] },\n      {\n        name: Update,\n        params: [\n          tokenParam,\n          indexIdParam,\n          { name: \"indexValue\", type: ParameterType.String },\n          userDataParam,\n        ],\n      },\n    ],\n  },\n  {\n    name: Subscription,\n    subCommands: [\n      {\n        name: Approve,\n        params: [\n          tokenParam,\n          indexIdParam,\n          publisherParam,\n          { name: \"units\", type: Uint },\n          userDataParam,\n        ],\n      },\n      {\n        name: Update,\n        params: [\n          tokenParam,\n          indexIdParam,\n          subscriberParam,\n          { name: \"units\", type: Uint },\n          userDataParam,\n        ],\n      },\n      {\n        name: Revoke,\n        params: [tokenParam, indexIdParam, publisherParam, userDataParam],\n      },\n      {\n        name: Delete,\n        params: [\n          tokenParam,\n          indexIdParam,\n          subscriberParam,\n          publisherParam,\n          userDataParam,\n        ],\n      },\n    ],\n  },\n];\n","import { CommandName } from \"../types\";\nimport { commands } from \"./commands\";\n\nconst allCommandValues = Object.values(CommandName);\n\nexport const isCommand = (word: string): boolean => {\n  return !!allCommandValues.find((name) => name === word);\n};\nexport const getCommand = (name: string) => {\n  return commands.find((c) => c.name === name);\n};\n","import {\n  createContext,\n  ReactNode,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { Framework, ISuperToken } from \"@superfluid-finance/sdk-core\";\nimport { useNetwork, useSigner } from \"wagmi\";\nimport { Signer } from \"ethers\";\n\ntype SuperfluidContextState = {\n  sf: Framework | null;\n  allSuperTokens: any[];\n};\n\nconst SuperfluidContext = createContext<SuperfluidContextState>({\n  sf: null,\n  allSuperTokens: [],\n});\n\nconst SUPERFLUID_CACHE = new Map<number, Framework>();\n// const SUPERFLUID_CACHE: {[chainId: number]: Framework} = {}\nexport const SuperfluidProvider = ({ children }: { children: ReactNode }) => {\n  const [{ data: signer }] = useSigner();\n  const [{ data: network }] = useNetwork();\n  const chainId = network.chain?.id;\n  const [sf, setSf] = useState<Framework | null>(null);\n  const [allSuperTokens, setAllSuperTokens] = useState<ISuperToken[]>([]);\n  const lastSignerRef = useRef<Signer | undefined>();\n\n  useEffect(() => {\n    if (!signer || !chainId) {\n      return;\n    }\n\n    if (signer !== lastSignerRef.current) {\n      SUPERFLUID_CACHE.clear();\n    }\n\n    (async () => {\n      if (!SUPERFLUID_CACHE.has(chainId)) {\n        SUPERFLUID_CACHE.set(\n          chainId,\n          await Framework.create({ chainId: chainId, provider: signer })\n        );\n      }\n\n      let superTokens: ISuperToken[];\n\n      try {\n        superTokens =\n          (await SUPERFLUID_CACHE.get(chainId)!.query.listAllSuperTokens({}))\n            ?.data ?? [];\n      } catch (e) {\n        console.error(`Error when fetching Super Tokens ${e}`);\n        superTokens = [];\n      }\n      setAllSuperTokens(superTokens);\n      setSf(SUPERFLUID_CACHE.get(chainId)!);\n    })();\n\n    lastSignerRef.current = signer;\n  }, [signer, chainId]);\n\n  return (\n    <SuperfluidContext.Provider value={{ sf, allSuperTokens }}>\n      {children}\n    </SuperfluidContext.Provider>\n  );\n};\n\nexport const useSuperfluid = () => {\n  const context = useContext(SuperfluidContext);\n  if (!context) {\n    throw new Error(\"Superfluid hook must be used inside a SuperfluidProvider\");\n  }\n  return context;\n};\n","import MonacoEditor, { useMonaco } from \"@monaco-editor/react\";\nimport theme from \"../vortex/theme.json\";\nimport { conf, contribution, language } from \"../vortex/vortex\";\nimport { Loading } from \"../components/Loading\";\nimport { Command, ParameterType } from \"../vortex/types\";\nimport { commands, getCommand } from \"../vortex/commands\";\nimport { useSuperfluid } from \"../providers/Superfluid\";\nimport { useEffect, useMemo } from \"react\";\nimport { ISuperToken } from \"@superfluid-finance/sdk-core\";\n\ntype SuggestionLists = {\n  commands: Command[];\n  tokenSymbols: string[];\n};\n\nconst getTokenSymbols = (superTokens: ISuperToken[]): string[] => {\n  const prefix = \"token:\";\n  const symbols = superTokens.reduce((symbols, sT) => {\n    // We assume it's the same but without the x.\n    const underlyingSymbol = sT.symbol.substring(0, sT.symbol.length - 1);\n\n    symbols.push(`${prefix}${sT.symbol}`);\n    symbols.push(`${prefix}${underlyingSymbol}`);\n    return symbols;\n  }, [] as string[]);\n  return symbols;\n};\n\ntype VortexEditorProps = {\n  code: string;\n  onChange(value: string): void;\n  onEditorMounting(mounting: boolean): void;\n};\n\nconst getSuggestionsFromParam = (\n  c: Command,\n  index: number,\n  currentWord: string,\n  { tokenSymbols }: SuggestionLists\n): string[] => {\n  if (!c.params || !c.params.length) {\n    return [];\n  }\n\n  const param = c.params![index];\n\n  if (param && param.type === ParameterType.Address && param.name === \"token\") {\n    return tokenSymbols.filter((s) => s.includes(currentWord));\n  }\n\n  return [];\n};\n\nconst parseLineContent = (\n  lineContent: string,\n  suggestionLists: SuggestionLists\n): string[] => {\n  const { commands } = suggestionLists;\n  const lineWords = lineContent.split(\" \");\n  const length = lineWords.length;\n  const currentWord = lineWords[length - 1];\n\n  // Cursor on the initial position, return all available root commands.\n  if (!length) {\n    return commands.map((c) => c.name.toString());\n  }\n\n  if (length >= 1) {\n    const c = getCommand(lineWords[0]);\n    if (length === 1) {\n      if (!c) {\n        return commands\n          .filter((c) => c.name.includes(currentWord))\n          .map((c) => c.name.toString());\n      }\n    }\n\n    if (!c) {\n      return [];\n    }\n\n    if (length === 2) {\n      if (c.subCommands) {\n        return c.subCommands\n          .filter((c) => c.name.includes(currentWord))\n          .map((c) => c.name.toString());\n      }\n\n      return getSuggestionsFromParam(\n        c,\n        length - 1 - 1,\n        currentWord,\n        suggestionLists\n      );\n    }\n\n    const subCommandName = lineWords[1] as keyof typeof c.subCommands;\n    const subCommand =\n      c.subCommands && c.subCommands.find((c) => c.name === subCommandName);\n\n    if (!subCommand) {\n      return [];\n    }\n\n    if (length > 2) {\n      return getSuggestionsFromParam(\n        subCommand,\n        length - 1 - 2,\n        currentWord,\n        suggestionLists\n      );\n    }\n  }\n  return [];\n};\n\nexport const VortexEditor = ({\n  code,\n  onChange,\n  onEditorMounting,\n}: VortexEditorProps) => {\n  const { allSuperTokens } = useSuperfluid();\n  const monaco = useMonaco();\n  const tokenSymbols = useMemo(\n    () => getTokenSymbols(allSuperTokens),\n    [allSuperTokens]\n  );\n\n  /**\n   * Set monaco completion logic\n   */\n  useEffect(() => {\n    if (!monaco) {\n      return;\n    }\n\n    const completionProvider = monaco.languages.registerCompletionItemProvider(\n      \"vortex\",\n      {\n        triggerCharacters: [\":\"],\n        provideCompletionItems: (model, currentPosition) => {\n          const lineContent = model.getLineContent(currentPosition.lineNumber);\n          const { startColumn, endColumn } =\n            model.getWordUntilPosition(currentPosition);\n\n          const range = {\n            startLineNumber: currentPosition.lineNumber,\n            endLineNumber: currentPosition.lineNumber,\n            startColumn: startColumn,\n            endColumn: endColumn,\n          };\n\n          const values = parseLineContent(lineContent, {\n            commands,\n            tokenSymbols,\n          });\n\n          return {\n            suggestions: values.map((v) => ({\n              label: v,\n              range,\n              insertText: v,\n              kind: 1,\n            })),\n          };\n        },\n      }\n    );\n\n    return () => {\n      completionProvider.dispose();\n    };\n  }, [monaco, tokenSymbols]);\n\n  return (\n    <MonacoEditor\n      height=\"50vh\"\n      theme=\"theme\"\n      language=\"vortex\"\n      loading={<Loading />}\n      value={code}\n      onChange={(str) => onChange(str || \"\")}\n      beforeMount={(monaco) => {\n        // @ts-ignore\n        monaco.editor.defineTheme(\"theme\", theme);\n        monaco.languages.register(contribution);\n        // @ts-ignore\n        monaco.languages.setLanguageConfiguration(\"vortex\", conf);\n        monaco.languages.setMonarchTokensProvider(\"vortex\", language);\n\n        onEditorMounting(true);\n      }}\n      onMount={(editor) => {\n        editor.setPosition({ lineNumber: 10000, column: 0 });\n        editor.focus();\n\n        onEditorMounting(false);\n      }}\n      options={{\n        fontSize: 22,\n        fontFamily: \"Ubuntu Mono\",\n        detectIndentation: false,\n        tabSize: 2,\n        language: \"vortex\",\n        minimap: {\n          enabled: false,\n        },\n        scrollbar: {\n          useShadows: false,\n          verticalScrollbarSize: 7,\n          vertical: \"hidden\",\n        },\n      }}\n    />\n  );\n};\n","import { Button, GU, textStyle } from \"@1hive/1hive-ui\";\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useSigner } from \"wagmi\";\nimport { VortexEditor } from \"../components/VortexEditor\";\nimport { useSuperfluid } from \"../providers/Superfluid\";\nimport vortex from \"../vortex\";\n\nconst defaultVortexScript = `token pre-approve token:fDAI token:fDAIx 100e18 // approve token upgrade\ntoken upgrade token:fDAIx 100e18 // upgrade 100 DAI to DAIx\nflow create token:fDAIx 0x40aD5B5b40066432c7A9c876e2C78B4a7564f0dB 1e18/mo // transfer 1 DAIx/month\n`\n\nexport const Terminal = () => {\n  const [editorMounting, setEditorMounting] = useState(true);\n  const [inProgress, setInProgress] = useState(false)\n  const [code, setCode] = useState(defaultVortexScript);\n  const { sf } = useSuperfluid()\n  const [{ data: signer }] = useSigner()\n\n\n  const handleExecute = async () => {\n    if (sf && signer) {\n      setInProgress(true)\n      try {\n        const receipt = await vortex(sf)`\n          ${code}\n        `.exec(signer)\n        alert(\"Transaction success: \" + receipt.transactionHash)\n      } catch (e: any) {\n        alert(e.message)\n      }\n      setInProgress(false)\n    }\n  }\n\n  return (\n    <Container>\n      <EditorWrapper>\n        <VortexEditor onEditorMounting={setEditorMounting} code={code} onChange={setCode} />\n        {!editorMounting && <Button wide mode=\"positive\" label={inProgress ? \"Signing transactions…\" : \"Execute\"} onClick={handleExecute} disabled={!sf || inProgress} />}\n      </EditorWrapper>\n      {!editorMounting && <EditorWrapper>\n        <details style={{ width: \"100%\" }}>\n          <summary>How to use it?</summary>\n          <pre style={{ textAlign: \"center\" }}>\n            {`Vortex Cheat Sheet\\n==================`}\n          </pre>\n          <pre>\n            {`\n            Commands\n            --------\n\n            token approve <token> <spender> <amount>\n            token transfer-from <token> <sender> <recipient> <amount>\n            token upgrade <token> <amount>\n            token downgrade <token> <amount>\n\n            flow create <token> <receiver> <flow-rate> [user-data]\n            flow update <token> <receiver> <flow-rate> [user-data]\n            flow delete <token> <sender> <receiver> [user-data]\n\n            index create <token> <index-id> [user-data]\n            index update <token> <index-id> <index-value> [user-data]\n\n            distribute <token> <index-id> <amount> [user-data]\n\n            subscription approve <token> <index-id> <publisher> [user-data]\n            subscription update <token> <index-id> <subscriber> <units> [user-data]\n            subscription revoke <token> <index-id> <publisher> [user-data]\n            subscription delete <token> <index-id> <subscriber> <publisher> [user-data]\n\n            claim <token> <index-id> <subscriber> <publisher> [user-data]\n\n            call <superapp> <method-signature> [...params]\n\n\n            Helpers\n            -------\n\n            Numbers:\n\n            - e18: Adds 18 decimals to a number, usually token amounts (and it works for other numbers, not just 18)\n            - s, m, h, w, mo, y: Time units for second, minute, hour, week, month, and year respectively\n            - You can combine them, for example \"3w\" means 3 weeks, and \"1000e18/mo\" means 1000 tokens per month\n\n            Addresses:\n\n            - token:<SYM>: Converts the label to the token address of the network we are connected to\n            `}\n          </pre>\n        </details>\n      </EditorWrapper>}\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: ${3 * GU}px;\n`;\n\nconst EditorWrapper = styled.div`\n  max-width: 1200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: ${2 * GU}px;\n  width: 100%\n`;\n","import { Route } from \"wouter\";\nimport { Terminal } from \"./Terminal\";\n\nexport const Routes = () => (\n  <div>\n    <Route path=\"/\">\n      <Terminal />\n    </Route>\n  </div>\n);\n","import React from 'react';\nimport { useTheme } from \"@1hive/1hive-ui\";\nimport { ThemeProvider } from \"styled-components\";\nimport { TopBar } from \"./components/TopBar\";\nimport { Routes } from \"./routes/Routes\";\n\nfunction App() {\n  const theme = useTheme();\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div>\n        <TopBar />\n        <Routes />\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { Main } from \"@1hive/1hive-ui\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Wagmi } from \"./providers/Wagmi\";\nimport App from \"./App\";\nimport { SuperfluidProvider } from \"./providers/Superfluid\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Wagmi>\n      <SuperfluidProvider>\n        <Main\n          assetsUrl=\"/aragon-ui/\"\n          layout={false}\n          scrollView={true}\n          theme=\"dark\"\n        >\n          <App />\n        </Main>\n      </SuperfluidProvider>\n    </Wagmi>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}